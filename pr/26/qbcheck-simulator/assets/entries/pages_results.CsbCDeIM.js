import{r as i,j as e,i as C,o as R}from"../chunks/chunk-D5HdQM_v.js";/* empty css                      */import{n as T,L as m}from"../chunks/chunk-BjVEBXCY.js";import"../chunks/chunk-CBikE94T.js";/* empty css                      */import"../chunks/chunk-qNf8tQrI.js";function k(){const[r,x]=i.useState([]),[u,v]=i.useState([]),[o,c]=i.useState(null),[s,d]=i.useState(""),[n,h]=i.useState("all");i.useEffect(()=>{if(sessionStorage.getItem("qbcheck-results")){T("/results/view");return}g()},[]);const g=()=>{const t=JSON.parse(localStorage.getItem("qbcheck-saved-runs")||"[]");t.sort((l,a)=>new Date(a.completedAt).getTime()-new Date(l.completedAt).getTime()),x(t)};i.useEffect(()=>{let t=[...r];s.trim()&&(t=t.filter(l=>(l.personName?.toLowerCase()||"").includes(s.toLowerCase())||s.toLowerCase()==="anonymous"&&!l.personName)),n!=="all"&&(t=t.filter(l=>{const a=l.results.duration<300;return n==="practice"?a:!a})),v(t)},[r,s,n]);const p=()=>{d(""),h("all")},y=()=>{const t=r.map(a=>a.personName).filter(Boolean);return[...new Set(t)].sort()},j=t=>{const a=JSON.parse(localStorage.getItem("qbcheck-saved-runs")||"[]").filter(A=>A.id!==t);localStorage.setItem("qbcheck-saved-runs",JSON.stringify(a)),g(),c(null)},N=()=>{localStorage.removeItem("qbcheck-saved-runs"),x([])},b=t=>new Date(t).toLocaleString(),w=t=>{const l=Math.floor(t/60),a=t%60;return`${l}:${a.toString().padStart(2,"0")}`},f=t=>t<300?"Practice":"Assessment",S=t=>t>=90?"text-green-600":t>=75?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Assessment Results"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage your saved assessment runs"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m,{href:"/",className:"bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors font-medium no-underline",children:"Home"}),r.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(m,{href:`/results/aggregate${(()=>{const t=new URLSearchParams;return s&&t.set("name",s),n!=="all"&&t.set("type",n),t.toString()?"?"+t.toString():""})()}`,className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium no-underline",children:"View Analytics"}),e.jsx("button",{onClick:()=>c("all"),className:"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Clear All"})]})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[r.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"name-filter",type:"text",value:s,onChange:t=>d(t.target.value),placeholder:"Enter name or 'anonymous'",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s&&e.jsx("button",{onClick:()=>d(""),className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Assessment Type"}),e.jsxs("select",{id:"type-filter",value:n,onChange:t=>h(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"practice",children:"Practice Only"}),e.jsx("option",{value:"assessment",children:"Full Assessment Only"})]})]}),e.jsx("div",{className:"flex flex-col justify-end",children:e.jsxs("div",{className:"flex gap-2 items-center h-10",children:[(s||n!=="all")&&e.jsx("button",{onClick:p,className:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Clear Filters"}),e.jsxs("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:[u.length," of ",r.length," results"]})]})})]}),y().length>0&&e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Quick name filters:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>d("anonymous"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="anonymous"?"bg-blue-100 text-blue-800 border border-blue-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Anonymous"}),y().slice(0,6).map(t=>e.jsx("button",{onClick:()=>d(t),className:`px-3 py-1 text-sm rounded-md transition-colors ${s===t?"bg-blue-100 text-blue-800 border border-blue-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t},t))]})]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm0 4a1 1 0 011-1h12a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V8zm2 2h10v6H5v-6z",clipRule:"evenodd"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No saved results yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Complete an assessment and choose to save it to see your results here."}),e.jsx(m,{href:"/",className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium no-underline",children:"Start Assessment"})]}):u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H16a1 1 0 110 2h-1.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H4a1 1 0 110-2h1.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.94l1-4H9.03z",clipRule:"evenodd"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results match your filters"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters or clearing them to see all results."}),e.jsx("button",{onClick:p,className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Clear Filters"})]}):e.jsx("div",{className:"space-y-4",children:u.map(t=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.personName||"Anonymous User"}),e.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${f(t.results.duration)==="Practice"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:f(t.results.duration)})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Completed:"}),e.jsx("div",{className:"font-medium",children:b(t.completedAt)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Duration:"}),e.jsx("div",{className:"font-medium",children:w(t.results.duration)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Accuracy:"}),e.jsxs("div",{className:`font-medium ${S(t.results.accuracy)}`,children:[t.results.accuracy.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Avg Reaction:"}),e.jsxs("div",{className:"font-medium",children:[Math.round(t.results.averageReactionTime),"ms"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Saved: ",b(t.savedAt)]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(m,{href:`/results/view?id=${t.id}`,className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium no-underline",children:"View Details"}),e.jsx("button",{onClick:()=>c(t.id),className:"bg-red-100 text-red-700 py-2 px-3 rounded-lg hover:bg-red-200 transition-colors",children:"Delete"})]})]})},t.id))})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:o==="all"?"Clear All Results":"Delete Result"}),e.jsx("p",{className:"text-gray-600 mb-6",children:o==="all"?"Are you sure you want to delete all saved assessment results? This action cannot be undone.":"Are you sure you want to delete this assessment result? This action cannot be undone."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>c(null),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>{o==="all"?N():j(o)},className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Delete"})]})]})})})]})}const z=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"})),U={serverOnlyHooks:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:R}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/results/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:z}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:C}}};export{U as configValuesSerialized};
