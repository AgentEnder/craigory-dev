import{p as hS}from"./chunk-BmiVclYl.js";/* empty css              *//* empty css              */function pE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cd={exports:{}},gl={},Dd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function fS(){return b_||(b_=1,(function(r){function t(H,tt){var ot=H.length;H.push(tt);t:for(;0<ot;){var Ut=ot-1>>>1,C=H[Ut];if(0<l(C,tt))H[Ut]=tt,H[ot]=C,ot=Ut;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],ot=H.pop();if(ot!==tt){H[0]=ot;t:for(var Ut=0,C=H.length,X=C>>>1;Ut<X;){var et=2*(Ut+1)-1,W=H[et],ut=et+1,Rt=H[ut];if(0>l(W,ot))ut<C&&0>l(Rt,W)?(H[Ut]=Rt,H[ut]=ot,Ut=ut):(H[Ut]=W,H[et]=ot,Ut=et);else if(ut<C&&0>l(Rt,ot))H[Ut]=Rt,H[ut]=ot,Ut=ut;else break t}}return tt}function l(H,tt){var ot=H.sortIndex-tt.sortIndex;return ot!==0?ot:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],A=1,I=null,D=3,G=!1,$=!1,it=!1,Z=!1,Et=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var tt=n(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=H)s(_),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=n(_)}}function Tt(H){if(it=!1,qt(H),!$)if(n(p)!==null)$=!0,xt||(xt=!0,k());else{var tt=n(_);tt!==null&&re(Tt,tt.startTime-H)}}var xt=!1,M=-1,S=5,w=-1;function N(){return Z?!0:!(r.unstable_now()-w<S)}function V(){if(Z=!1,xt){var H=r.unstable_now();w=H;var tt=!0;try{t:{$=!1,it&&(it=!1,pt(M),M=-1),G=!0;var ot=D;try{e:{for(qt(H),I=n(p);I!==null&&!(I.expirationTime>H&&N());){var Ut=I.callback;if(typeof Ut=="function"){I.callback=null,D=I.priorityLevel;var C=Ut(I.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){I.callback=C,qt(H),tt=!0;break e}I===n(p)&&s(p),qt(H)}else s(p);I=n(p)}if(I!==null)tt=!0;else{var X=n(_);X!==null&&re(Tt,X.startTime-H),tt=!1}}break t}finally{I=null,D=ot,G=!1}tt=void 0}}finally{tt?k():xt=!1}}}var k;if(typeof ct=="function")k=function(){ct(V)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Pe=b.port2;b.port1.onmessage=V,k=function(){Pe.postMessage(null)}}else k=function(){Et(V,0)};function re(H,tt){M=Et(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var tt=3;break;default:tt=D}var ot=D;D=tt;try{return H()}finally{D=ot}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=D;D=H;try{return tt()}finally{D=ot}},r.unstable_scheduleCallback=function(H,tt,ot){var Ut=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ut+ot:Ut):ot=Ut,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,H={id:A++,callback:tt,priorityLevel:H,startTime:ot,expirationTime:C,sortIndex:-1},ot>Ut?(H.sortIndex=ot,t(_,H),n(p)===null&&H===n(_)&&(it?(pt(M),M=-1):it=!0,re(Tt,ot-Ut))):(H.sortIndex=C,t(p,H),$||G||($=!0,xt||(xt=!0,k()))),H},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(H){var tt=D;return function(){var ot=D;D=tt;try{return H.apply(this,arguments)}finally{D=ot}}}})(Od)),Od}var w_;function dS(){return w_||(w_=1,Dd.exports=fS()),Dd.exports}var Nd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function mS(){if(I_)return At;I_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,it={};function Z(C,X,et){this.props=C,this.context=X,this.refs=it,this.updater=et||G}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Et(){}Et.prototype=Z.prototype;function pt(C,X,et){this.props=C,this.context=X,this.refs=it,this.updater=et||G}var ct=pt.prototype=new Et;ct.constructor=pt,$(ct,Z.prototype),ct.isPureReactComponent=!0;var qt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function M(C,X,et,W,ut,Rt){return et=Rt.ref,{$$typeof:r,type:C,key:X,ref:et!==void 0?et:null,props:Rt}}function S(C,X){return M(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function N(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return X[et]})}var V=/\/+/g;function k(C,X){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):X.toString(36)}function b(){}function Pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(b,b):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,X,et,W,ut){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var yt=!1;if(C===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(C.$$typeof){case r:case t:yt=!0;break;case A:return yt=C._init,re(yt(C._payload),X,et,W,ut)}}if(yt)return ut=ut(C),yt=W===""?"."+k(C,0):W,qt(ut)?(et="",yt!=null&&(et=yt.replace(V,"$&/")+"/"),re(ut,X,et,"",function(jn){return jn})):ut!=null&&(w(ut)&&(ut=S(ut,et+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(V,"$&/")+"/")+yt)),X.push(ut)),1;yt=0;var Ie=W===""?".":W+":";if(qt(C))for(var $t=0;$t<C.length;$t++)W=C[$t],Rt=Ie+k(W,$t),yt+=re(W,X,et,Rt,ut);else if($t=D(C),typeof $t=="function")for(C=$t.call(C),$t=0;!(W=C.next()).done;)W=W.value,Rt=Ie+k(W,$t++),yt+=re(W,X,et,Rt,ut);else if(Rt==="object"){if(typeof C.then=="function")return re(Pe(C),X,et,W,ut);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(C,X,et){if(C==null)return C;var W=[],ut=0;return re(C,W,"","",function(Rt){return X.call(et,Rt,ut++)}),W}function tt(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ut(){}return At.Children={map:H,forEach:function(C,X,et){H(C,function(){X.apply(this,arguments)},et)},count:function(C){var X=0;return H(C,function(){X++}),X},toArray:function(C){return H(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=Z,At.Fragment=n,At.Profiler=l,At.PureComponent=pt,At.StrictMode=s,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Tt.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,X,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=$({},C.props),ut=C.key,Rt=void 0;if(X!=null)for(yt in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ut=""+X.key),X)!xt.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(W[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)W.children=et;else if(1<yt){for(var Ie=Array(yt),$t=0;$t<yt;$t++)Ie[$t]=arguments[$t+2];W.children=Ie}return M(C.type,ut,void 0,void 0,Rt,W)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},At.createElement=function(C,X,et){var W,ut={},Rt=null;if(X!=null)for(W in X.key!==void 0&&(Rt=""+X.key),X)xt.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ut[W]=X[W]);var yt=arguments.length-2;if(yt===1)ut.children=et;else if(1<yt){for(var Ie=Array(yt),$t=0;$t<yt;$t++)Ie[$t]=arguments[$t+2];ut.children=Ie}if(C&&C.defaultProps)for(W in yt=C.defaultProps,yt)ut[W]===void 0&&(ut[W]=yt[W]);return M(C,Rt,void 0,void 0,null,ut)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=w,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},At.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},At.startTransition=function(C){var X=Tt.T,et={};Tt.T=et;try{var W=C(),ut=Tt.S;ut!==null&&ut(et,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ut,ot)}catch(Rt){ot(Rt)}finally{Tt.T=X}},At.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},At.use=function(C){return Tt.H.use(C)},At.useActionState=function(C,X,et){return Tt.H.useActionState(C,X,et)},At.useCallback=function(C,X){return Tt.H.useCallback(C,X)},At.useContext=function(C){return Tt.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,X){return Tt.H.useDeferredValue(C,X)},At.useEffect=function(C,X,et){var W=Tt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,X)},At.useId=function(){return Tt.H.useId()},At.useImperativeHandle=function(C,X,et){return Tt.H.useImperativeHandle(C,X,et)},At.useInsertionEffect=function(C,X){return Tt.H.useInsertionEffect(C,X)},At.useLayoutEffect=function(C,X){return Tt.H.useLayoutEffect(C,X)},At.useMemo=function(C,X){return Tt.H.useMemo(C,X)},At.useOptimistic=function(C,X){return Tt.H.useOptimistic(C,X)},At.useReducer=function(C,X,et){return Tt.H.useReducer(C,X,et)},At.useRef=function(C){return Tt.H.useRef(C)},At.useState=function(C){return Tt.H.useState(C)},At.useSyncExternalStore=function(C,X,et){return Tt.H.useSyncExternalStore(C,X,et)},At.useTransition=function(){return Tt.H.useTransition()},At.version="19.1.1",At}var C_;function vm(){return C_||(C_=1,Nd.exports=mS()),Nd.exports}var Vd={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function gS(){if(D_)return Fe;D_=1;var r=vm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},Fe.flushSync=function(p){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=A,s.d.f()}},Fe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:G}):A==="script"&&s.d.X(p,{crossOrigin:I,integrity:D,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Fe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin);s.d.L(p,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,_){return p(_)},Fe.useFormState=function(p,_,A){return d.H.useFormState(p,_,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var O_;function pS(){if(O_)return Vd.exports;O_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vd.exports=gS(),Vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function yS(){if(N_)return gl;N_=1;var r=dS(),t=vm(),n=pS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),pt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var b=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case it:return"StrictMode";case Tt:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case pt:return(e._context.displayName||"Context")+".Consumer";case qt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:Pe(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Pe(e(i))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ut=[],C=-1;function X(e){return{current:e}}function et(e){0>C||(e.current=Ut[C],Ut[C]=null,C--)}function W(e,i){C++,Ut[C]=e.current,e.current=i}var ut=X(null),Rt=X(null),yt=X(null),Ie=X(null);function $t(e,i){switch(W(yt,i),W(Rt,e),W(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Jy(i),e=t_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ut),W(ut,e)}function jn(){et(ut),et(Rt),et(yt)}function Yi(e){e.memoizedState!==null&&W(Ie,e);var i=ut.current,a=t_(i,e.type);i!==a&&(W(Rt,e),W(ut,a))}function mi(e){Rt.current===e&&(et(ut),et(Rt)),Ie.current===e&&(et(Ie),cl._currentValue=ot)}var Fr=Object.prototype.hasOwnProperty,Qr=r.unstable_scheduleCallback,Kr=r.unstable_cancelCallback,ao=r.unstable_shouldYield,Jl=r.unstable_requestPaint,yn=r.unstable_now,Ih=r.unstable_getCurrentPriorityLevel,oo=r.unstable_ImmediatePriority,Hs=r.unstable_UserBlockingPriority,Yr=r.unstable_NormalPriority,Ch=r.unstable_LowPriority,js=r.unstable_IdlePriority,lo=r.log,tu=r.unstable_setDisableYieldValue,se=null,Ht=null;function on(e){if(typeof lo=="function"&&tu(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,e)}catch{}}var je=Math.clz32?Math.clz32:Xr,eu=Math.log,Dh=Math.LN2;function Xr(e){return e>>>=0,e===0?32:31-(eu(e)/Dh|0)|0}var $r=256,Zr=4194304;function Mn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Mn(o):(v&=E,v!==0?h=Mn(v):a||(a=E&~e,a!==0&&(h=Mn(a))))):(E=o&~f,E!==0?h=Mn(E):v!==0?h=Mn(v):a||(a=o&~e,a!==0&&(h=Mn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Wr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function uo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var e=$r;return $r<<=1,($r&4194048)===0&&($r=256),e}function ho(){var e=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),e}function gi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function pi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fo(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,x=e.hiddenUpdates;for(a=v&~a;0<a;){var j=31-je(a),K=1<<j;E[j]=0,R[j]=-1;var z=x[j];if(z!==null)for(x[j]=null,j=0;j<z.length;j++){var B=z[j];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&Gn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function Gn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-je(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function mo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-je(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Xi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $i(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:v_(e.type))}function nu(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var te=Math.random().toString(36).slice(2),Te="__reactFiber$"+te,fe="__reactProps$"+te,_n="__reactContainer$"+te,go="__reactEvents$"+te,Oh="__reactListeners$"+te,Zi="__reactHandles$"+te,iu="__reactResources$"+te,Jr="__reactMarker$"+te;function Wi(e){delete e[Te],delete e[fe],delete e[go],delete e[Oh],delete e[Zi]}function yi(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[_n]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=r_(e);e!==null;){if(a=e[Te])return a;e=r_(e)}return i}e=a,a=e.parentNode}return null}function Fn(e){if(e=e[Te]||e[_n]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Qn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function $e(e){var i=e[iu];return i||(i=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function le(e){e[Jr]=!0}var po=new Set,Qs={};function Pn(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(Qs[e]=i,e=0;e<i.length;e++)po.add(i[e])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),su={},ts={};function au(e){return Fr.call(ts,e)?!0:Fr.call(su,e)?!1:ru.test(e)?ts[e]=!0:(su[e]=!0,!1)}function Ji(e,i,a){if(au(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Kn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ke(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var es,ou;function vi(e){if(es===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);es=i&&i[1]||"",ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+es+e+ou}var Ks=!1;function Ys(e,i){if(!e||Ks)return"";Ks=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),x=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===x.length)for(o=R.length-1,h=x.length-1;1<=o&&0<=h&&R[o]!==x[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==x[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==x[h]){var j=`
`+R[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=h);break}}}finally{Ks=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vi(a):""}function yo(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Ys(e.type,!1);case 11:return Ys(e.type.render,!1);case 1:return Ys(e.type,!0);case 31:return vi("Activity");default:return""}}function Xs(e){try{var i="";do i+=yo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _o(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Nh(e){var i=_o(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $s(e){e._valueTracker||(e._valueTracker=Nh(e))}function vo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=_o(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vh=/[\n"\\]/g;function de(e){return e.replace(Vh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?tr(e,v,Ze(i)):a!=null?tr(e,v,Ze(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function is(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function tr(e,i,a){i==="number"&&ns(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ei(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Ft(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function rs(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||ss.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Eo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&lu(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&lu(e,f,i[f])}function To(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(e){return Ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Si=null;function Ao(e){var i=Fn(e);if(i&&(e=i.stateNode)){var a=e[fe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[fe]||null;if(!h)throw Error(s(90));ln(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&vo(o)}break t;case"textarea":Ft(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ei(e,!!a.multiple,i,!1)}}}var Yn=!1;function uu(e,i,a){if(Yn)return e(i,a);Yn=!0;try{var o=e(i);return o}finally{if(Yn=!1,(Ai!==null||Si!==null)&&(nc(),Ai&&(i=Ai,e=Si,Si=Ai=null,Ao(i),e)))for(i=0;i<e.length;i++)Ao(e[i])}}function as(e,i){var a=e.stateNode;if(a===null)return null;var o=a[fe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(kn)try{var os={};Object.defineProperty(os,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Tn=!1}var Xn=null,er=null,Ri=null;function So(){if(Ri)return Ri;var e,i=er,a=i.length,o,h="value"in Xn?Xn.value:Xn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return Ri=h.slice(e,1<o?1-o:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function Ro(){return!1}function Ce(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zn:Ro,this.isPropagationStopped=Ro,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Ce(zt),ls=A({},zt,{view:0,detail:0}),cu=Ce(ls),Js,ta,Wn,us=A({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Js=e.screenX-Wn.screenX,ta=e.screenY-Wn.screenY):ta=Js=0,Wn=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),An=Ce(us),hu=A({},us,{dataTransfer:0}),kh=Ce(hu),cs=A({},ls,{relatedTarget:0}),ea=Ce(cs),bo=A({},zt,{animationName:0,elapsedTime:0,pseudoElement:0}),na=Ce(bo),fu=A({},zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ia=Ce(fu),Uh=A({},zt,{data:0}),wo=Ce(Uh),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Io(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=mu[e])?!!i[e]:!1}function fs(){return Io}var gu=A({},ls,{key:function(e){if(e.key){var i=hs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ra=Ce(gu),pu=A({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=Ce(pu),bi=A({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),yu=Ce(bi),_u=A({},zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Ce(_u),Eu=A({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sa=Ce(Eu),We=A({},zt,{newState:0,oldState:0}),Tu=Ce(We),Au=[9,13,27,32],Jn=kn&&"CompositionEvent"in window,u=null;kn&&"documentMode"in document&&(u=document.documentMode);var m=kn&&"TextEvent"in window&&!u,y=kn&&(!Jn||u&&8<u&&11>=u),T=" ",U=!1;function q(e,i){switch(e){case"keyup":return Au.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nt=!1;function Ae(e,i){switch(e){case"compositionend":return J(i);case"keypress":return i.which!==32?null:(U=!0,T);case"textInput":return e=i.data,e===T&&U?null:e;default:return null}}function Vt(e,i){if(Nt)return e==="compositionend"||!Jn&&q(e,i)?(e=So(),Ri=er=Xn=null,Nt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function wi(e,i,a,o){Ai?Si?Si.push(o):Si=[o]:Ai=o,i=lc(i,"onChange"),0<i.length&&(a=new Ws("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ue=null,ti=null;function Do(e){Yy(e,0)}function Su(e){var i=Qn(e);if(vo(i))return e}function gg(e,i){if(e==="change")return i}var pg=!1;if(kn){var Lh;if(kn){var xh="oninput"in document;if(!xh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),xh=typeof yg.oninput=="function"}Lh=xh}else Lh=!1;pg=Lh&&(!document.documentMode||9<document.documentMode)}function _g(){Ue&&(Ue.detachEvent("onpropertychange",vg),ti=Ue=null)}function vg(e){if(e.propertyName==="value"&&Su(ti)){var i=[];wi(i,ti,e,En(e)),uu(Do,i)}}function q0(e,i,a){e==="focusin"?(_g(),Ue=i,ti=a,Ue.attachEvent("onpropertychange",vg)):e==="focusout"&&_g()}function H0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(ti)}function j0(e,i){if(e==="click")return Su(i)}function G0(e,i){if(e==="input"||e==="change")return Su(i)}function F0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:F0;function Oo(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Fr.call(i,h)||!un(e[h],i[h]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,i){var a=Eg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Eg(a)}}function Ag(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ag(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ns(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ns(e.document)}return i}function zh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Q0=kn&&"documentMode"in document&&11>=document.documentMode,aa=null,Bh=null,No=null,qh=!1;function Rg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||aa==null||aa!==ns(o)||(o=aa,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),No&&Oo(No,o)||(No=o,o=lc(Bh,"onSelect"),0<o.length&&(i=new Ws("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=aa)))}function ds(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var oa={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Hh={},bg={};kn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function ms(e){if(Hh[e])return Hh[e];if(!oa[e])return e;var i=oa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in bg)return Hh[e]=i[a];return e}var wg=ms("animationend"),Ig=ms("animationiteration"),Cg=ms("animationstart"),K0=ms("transitionrun"),Y0=ms("transitionstart"),X0=ms("transitioncancel"),Dg=ms("transitionend"),Og=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Un(e,i){Og.set(e,i),Pn(i,[e])}var Ng=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=Ng.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Xs(i)},Ng.set(e,i),i)}return{value:e,source:i,stack:Xs(i)}}var Rn=[],la=0,Gh=0;function Ru(){for(var e=la,i=Gh=la=0;i<e;){var a=Rn[i];Rn[i++]=null;var o=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var f=Rn[i];if(Rn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&Vg(a,h,f)}}function bu(e,i,a,o){Rn[la++]=e,Rn[la++]=i,Rn[la++]=a,Rn[la++]=o,Gh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Fh(e,i,a,o){return bu(e,i,a,o),wu(e)}function ua(e,i){return bu(e,null,null,i),wu(e)}function Vg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-je(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function wu(e){if(50<nl)throw nl=0,Wf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ca={};function $0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,i,a,o){return new $0(e,i,a,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,i){var a=e.alternate;return a===null?(a=cn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Mg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Iu(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")Qh(e)&&(v=1);else if(typeof e=="string")v=WA(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=cn(31,a,i,h),e.elementType=w,e.lanes=f,e;case $:return gs(a.children,h,f,i);case it:v=8,h|=24;break;case Z:return e=cn(12,a,i,h|2),e.elementType=Z,e.lanes=f,e;case Tt:return e=cn(13,a,i,h),e.elementType=Tt,e.lanes=f,e;case xt:return e=cn(19,a,i,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:case ct:v=10;break t;case pt:v=9;break t;case qt:v=11;break t;case M:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=cn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function gs(e,i,a,o){return e=cn(7,e,o,i),e.lanes=a,e}function Kh(e,i,a){return e=cn(6,e,null,i),e.lanes=a,e}function Yh(e,i,a){return i=cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ha=[],fa=0,Cu=null,Du=0,bn=[],wn=0,ps=null,Ci=1,Di="";function ys(e,i){ha[fa++]=Du,ha[fa++]=Cu,Cu=e,Du=i}function Pg(e,i,a){bn[wn++]=Ci,bn[wn++]=Di,bn[wn++]=ps,ps=e;var o=Ci;e=Di;var h=32-je(o)-1;o&=~(1<<h),a+=1;var f=32-je(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ci=1<<32-je(i)+h|a<<h|o,Di=f+e}else Ci=1<<f|a<<h|o,Di=e}function Xh(e){e.return!==null&&(ys(e,1),Pg(e,1,0))}function $h(e){for(;e===Cu;)Cu=ha[--fa],ha[fa]=null,Du=ha[--fa],ha[fa]=null;for(;e===ps;)ps=bn[--wn],bn[wn]=null,Di=bn[--wn],bn[wn]=null,Ci=bn[--wn],bn[wn]=null}var Je=null,ae=null,Lt=!1,_s=null,ei=!1,Zh=Error(s(519));function vs(e){var i=Error(s(418,""));throw Po(Sn(i,e)),Zh}function kg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Te]=e,i[fe]=o,a){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(a=0;a<rl.length;a++)It(rl[a],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":It("invalid",i),is(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),$s(i);break;case"select":It("invalid",i);break;case"textarea":It("invalid",i),rs(i,o.value,o.defaultValue,o.children),$s(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Wy(i.textContent,a)?(o.popover!=null&&(It("beforetoggle",i),It("toggle",i)),o.onScroll!=null&&It("scroll",i),o.onScrollEnd!=null&&It("scrollend",i),o.onClick!=null&&(i.onclick=uc),i=!0):i=!1,i||vs(e)}function Ug(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Je=Je.return}}function Vo(e){if(e!==Je)return!1;if(!Lt)return Ug(e),Lt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||md(e.type,e.memoizedProps)),a=!a),a&&ae&&vs(e),Ug(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ae=xn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ae=null}}else i===27?(i=ae,yr(e.type)?(e=_d,_d=null,ae=e):ae=i):ae=Je?xn(e.stateNode.nextSibling):null;return!0}function Mo(){ae=Je=null,Lt=!1}function Lg(){var e=_s;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),_s=null),e}function Po(e){_s===null?_s=[e]:_s.push(e)}var Wh=X(null),Es=null,Oi=null;function nr(e,i,a){W(Wh,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=Wh.current,et(Wh)}function Jh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function tf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Jh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ko(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;un(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&tf(i,e,a,o),i.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){Es=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return xg(Es,e)}function Nu(e,i){return Es===null&&Ts(e),xg(e,i)}function xg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Oi=Oi.next=i;return a}var Z0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},W0=r.unstable_scheduleCallback,J0=r.unstable_NormalPriority,Re={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new Z0,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&W0(J0,function(){e.controller.abort()})}var Lo=null,nf=0,da=0,ma=null;function tA(e,i){if(Lo===null){var a=Lo=[];nf=0,da=sd(),ma={status:"pending",value:void 0,then:function(o){a.push(o)}}}return nf++,i.then(zg,zg),i}function zg(){if(--nf===0&&Lo!==null){ma!==null&&(ma.status="fulfilled");var e=Lo;Lo=null,da=0,ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function eA(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Bg=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&tA(e,i),Bg!==null&&Bg(e,i)};var As=X(null);function rf(){var e=As.current;return e!==null?e:Zt.pooledCache}function Vu(e,i){i===null?W(As,As.current):W(As,i.pool)}function qg(){var e=rf();return e===null?null:{parent:Re._currentValue,pool:e}}var xo=Error(s(460)),Hg=Error(s(474)),Mu=Error(s(542)),sf={then:function(){}};function jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pu(){}function Gg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Pu,Pu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Qg(e),e;default:if(typeof i.status=="string")i.then(Pu,Pu);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Qg(e),e}throw zo=i,xo}}var zo=null;function Fg(){if(zo===null)throw Error(s(459));var e=zo;return zo=null,e}function Qg(e){if(e===xo||e===Mu)throw Error(s(483))}var ir=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=wu(e),Vg(e,null,a),i}return bu(e,o,i,a),wu(e)}function Bo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,mo(e,a)}}function lf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var uf=!1;function qo(){if(uf){var e=ma;if(e!==null)throw e}}function Ho(e,i,a,o){uf=!1;var h=e.updateQueue;ir=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,x=R.next;R.next=null,v===null?f=x:v.next=x,v=R;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==v&&(E===null?j.firstBaseUpdate=x:E.next=x,j.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;v=0,j=x=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Mt&z)===z:(o&z)===z){z!==0&&z===da&&(uf=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=e,ht=E;z=i;var Yt=a;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){K=gt.call(Yt,K,z);break t}K=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,z=typeof gt=="function"?gt.call(Yt,K,z):gt,z==null)break t;K=A({},K,z);break t;case 2:ir=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(x=j=B,R=K):j=j.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);j===null&&(R=K),h.baseState=R,h.firstBaseUpdate=x,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),dr|=v,e.lanes=v,e.memoizedState=K}}function Kg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Yg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Kg(a[e],i)}var ga=X(null),ku=X(0);function Xg(e,i){e=xi,W(ku,e),W(ga,i),xi=e|i.baseLanes}function cf(){W(ku,xi),W(ga,ga.current)}function hf(){xi=ku.current,et(ga),et(ku)}var ar=0,St=null,Qt=null,me=null,Uu=!1,pa=!1,Ss=!1,Lu=0,jo=0,ya=null,nA=0;function ue(){throw Error(s(321))}function ff(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!un(e[a],i[a]))return!1;return!0}function df(e,i,a,o,h,f){return ar=f,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?Vp:Mp,Ss=!1,f=a(o,h),Ss=!1,pa&&(f=Zg(i,a,o,h)),$g(e),f}function $g(e){H.H=ju;var i=Qt!==null&&Qt.next!==null;if(ar=0,me=Qt=St=null,Uu=!1,jo=0,ya=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Ou(e)&&(Oe=!0))}function Zg(e,i,a,o){St=e;var h=0;do{if(pa&&(ya=null),jo=0,pa=!1,25<=h)throw Error(s(301));if(h+=1,me=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=uA,f=i(a,o)}while(pa);return f}function iA(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Go(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(St.flags|=1024),i}function mf(){var e=Lu!==0;return Lu=0,e}function gf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function pf(e){if(Uu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Uu=!1}ar=0,me=Qt=St=null,pa=!1,jo=Lu=0,ya=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=e:me=me.next=e,me}function ge(){if(Qt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=me===null?St.memoizedState:me.next;if(i!==null)me=i,Qt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?St.memoizedState=me=e:me=me.next=e}return me}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var i=jo;return jo+=1,ya===null&&(ya=[]),e=Gg(ya,e,i),i=St,(me===null?i.memoizedState:me.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Vp:Mp),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===ct)return Ge(e)}throw Error(s(438,String(e)))}function _f(e){var i=null,a=St.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yf(),St.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=N;return i.index++,a}function Vi(e,i){return typeof i=="function"?i(e):i}function zu(e){var i=ge();return vf(i,Qt,e)}function vf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,R=null,x=i,j=!1;do{var K=x.lane&-536870913;if(K!==x.lane?(Mt&K)===K:(ar&K)===K){var z=x.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),K===da&&(j=!0);else if((ar&z)===z){x=x.next,z===da&&(j=!0);continue}else K={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},R===null?(E=R=K,v=f):R=R.next=K,St.lanes|=z,dr|=z;K=x.action,Ss&&a(f,K),f=x.hasEagerState?x.eagerState:a(f,K)}else z={lane:K,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},R===null?(E=R=z,v=f):R=R.next=z,St.lanes|=K,dr|=K;x=x.next}while(x!==null&&x!==i);if(R===null?v=f:R.next=E,!un(f,e.memoizedState)&&(Oe=!0,j&&(a=ma,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);un(f,i.memoizedState)||(Oe=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Wg(e,i,a){var o=St,h=ge(),f=Lt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Qt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var E=ep.bind(null,o,h,e);if(Fo(2048,8,E,[e]),h.getSnapshot!==i||v||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,_a(9,Bu(),tp.bind(null,o,h,a,i),null),Zt===null)throw Error(s(349));f||(ar&124)!==0||Jg(o,i,a)}return a}function Jg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=St.updateQueue,i===null?(i=yf(),St.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function tp(e,i,a,o){i.value=a,i.getSnapshot=o,np(i)&&ip(e)}function ep(e,i,a){return a(function(){np(i)&&ip(e)})}function np(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!un(e,a)}catch{return!0}}function ip(e){var i=ua(e,2);i!==null&&gn(i,e,2)}function Tf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ss){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},i}function rp(e,i,a,o){return e.baseState=a,vf(e,Qt,typeof o=="function"?o:Vi)}function rA(e,i,a,o,h){if(Hu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,sp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function sp(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=H.T,v={};H.T=v;try{var E=a(h,o),R=H.S;R!==null&&R(v,E),ap(e,i,E)}catch(x){Af(e,i,x)}finally{H.T=f}}else try{f=a(h,o),ap(e,i,f)}catch(x){Af(e,i,x)}}function ap(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){op(e,i,o)},function(o){return Af(e,i,o)}):op(e,i,a)}function op(e,i,a){i.status="fulfilled",i.value=a,lp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,sp(e,a)))}function Af(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,lp(i),i=i.next;while(i!==o)}e.action=null}function lp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function up(e,i){return i}function cp(e,i){if(Lt){var a=Zt.formState;if(a!==null){t:{var o=St;if(Lt){if(ae){e:{for(var h=ae,f=ei;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=xn(h.nextSibling),o=h.data==="F!";break t}}vs(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:i},a.queue=o,a=Dp.bind(null,St,o),o.dispatch=a,o=Tf(!1),f=If.bind(null,St,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=rA.bind(null,St,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function hp(e){var i=ge();return fp(i,Qt,e)}function fp(e,i,a){if(i=vf(e,i,up)[0],e=zu(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Go(i)}catch(v){throw v===xo?Mu:v}else o=i;i=ge();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(St.flags|=2048,_a(9,Bu(),sA.bind(null,h,a),null)),[o,f,e]}function sA(e,i){e.action=i}function dp(e){var i=ge(),a=Qt;if(a!==null)return fp(i,a,e);ge(),i=i.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function _a(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=St.updateQueue,i===null&&(i=yf(),St.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Bu(){return{destroy:void 0,resource:void 0}}function mp(){return ge().memoizedState}function qu(e,i,a,o){var h=en();o=o===void 0?null:o,St.flags|=e,h.memoizedState=_a(1|i,Bu(),a,o)}function Fo(e,i,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Qt!==null&&o!==null&&ff(o,Qt.memoizedState.deps)?h.memoizedState=_a(i,f,a,o):(St.flags|=e,h.memoizedState=_a(1|i,f,a,o))}function gp(e,i){qu(8390656,8,e,i)}function pp(e,i){Fo(2048,8,e,i)}function yp(e,i){return Fo(4,2,e,i)}function _p(e,i){return Fo(4,4,e,i)}function vp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ep(e,i,a){a=a!=null?a.concat([e]):null,Fo(4,4,vp.bind(null,i,e),a)}function Sf(){}function Tp(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&ff(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Ap(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&ff(i,o[1]))return o[0];if(o=e(),Ss){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[o,i],o}function Rf(e,i,a){return a===void 0||(ar&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=by(),St.lanes|=e,dr|=e,a)}function Sp(e,i,a,o){return un(a,i)?a:ga.current!==null?(e=Rf(e,a,o),un(e,i)||(Oe=!0),e):(ar&42)===0?(Oe=!0,e.memoizedState=a):(e=by(),St.lanes|=e,dr|=e,i)}function Rp(e,i,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,If(e,!1,i,a);try{var R=h(),x=H.S;if(x!==null&&x(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=eA(R,o);Qo(e,i,j,mn(e))}else Qo(e,i,o,mn(e))}catch(K){Qo(e,i,{then:function(){},status:"rejected",reason:K},mn())}finally{tt.p=f,H.T=v}}function aA(){}function bf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=bp(e).queue;Rp(e,h,i,ot,a===null?aA:function(){return wp(e),a(o)})}function bp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ot},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function wp(e){var i=bp(e).next.queue;Qo(e,i,{},mn())}function wf(){return Ge(cl)}function Ip(){return ge().memoizedState}function Cp(){return ge().memoizedState}function oA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();e=rr(a);var o=sr(i,e,a);o!==null&&(gn(o,i,a),Bo(o,i,a)),i={cache:ef()},e.payload=i;return}i=i.return}}function lA(e,i,a){var o=mn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Op(i,a):(a=Fh(e,i,a,o),a!==null&&(gn(a,e,o),Np(a,i,o)))}function Dp(e,i,a){var o=mn();Qo(e,i,a,o)}function Qo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Op(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,un(E,v))return bu(e,i,h,0),Zt===null&&Ru(),!1}catch{}finally{}if(a=Fh(e,i,h,o),a!==null)return gn(a,e,o),Np(a,i,o),!0}return!1}function If(e,i,a,o){if(o={lane:2,revertLane:sd(),action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(i)throw Error(s(479))}else i=Fh(e,a,o,2),i!==null&&gn(i,e,2)}function Hu(e){var i=e.alternate;return e===St||i!==null&&i===St}function Op(e,i){pa=Uu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Np(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,mo(e,a)}}var ju={readContext:Ge,use:xu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Vp={readContext:Ge,use:xu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:gp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,qu(4194308,4,vp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return qu(4194308,4,e,i)},useInsertionEffect:function(e,i){qu(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(Ss){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(Ss){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=lA.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Tf(e);var i=e.queue,a=Dp.bind(null,St,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Sf,useDeferredValue:function(e,i){var a=en();return Rf(a,e,i)},useTransition:function(){var e=Tf(!1);return e=Rp.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=St,h=en();if(Lt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Zt===null)throw Error(s(349));(Mt&124)!==0||Jg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,gp(ep.bind(null,o,f,e),[e]),o.flags|=2048,_a(9,Bu(),tp.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=Zt.identifierPrefix;if(Lt){var a=Di,o=Ci;a=(o&~(1<<32-je(o)-1)).toString(32)+a,i=""+i+"R"+a,a=Lu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=nA++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:wf,useFormState:cp,useActionState:cp,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=If.bind(null,St,!0,a),a.dispatch=i,[e,i]},useMemoCache:_f,useCacheRefresh:function(){return en().memoizedState=oA.bind(null,St)}},Mp={readContext:Ge,use:xu,useCallback:Tp,useContext:Ge,useEffect:pp,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:Ap,useReducer:zu,useRef:mp,useState:function(){return zu(Vi)},useDebugValue:Sf,useDeferredValue:function(e,i){var a=ge();return Sp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=zu(Vi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:Wg,useId:Ip,useHostTransitionStatus:wf,useFormState:hp,useActionState:hp,useOptimistic:function(e,i){var a=ge();return rp(a,Qt,e,i)},useMemoCache:_f,useCacheRefresh:Cp},uA={readContext:Ge,use:xu,useCallback:Tp,useContext:Ge,useEffect:pp,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:Ap,useReducer:Ef,useRef:mp,useState:function(){return Ef(Vi)},useDebugValue:Sf,useDeferredValue:function(e,i){var a=ge();return Qt===null?Rf(a,e,i):Sp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Ef(Vi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:Wg,useId:Ip,useHostTransitionStatus:wf,useFormState:dp,useActionState:dp,useOptimistic:function(e,i){var a=ge();return Qt!==null?rp(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Cp},va=null,Ko=0;function Gu(e){var i=Ko;return Ko+=1,va===null&&(va=[]),Gg(va,e,i)}function Yo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Fu(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Pp(e){var i=e._init;return i(e._payload)}function kp(e){function i(P,O){if(e){var L=P.deletions;L===null?(P.deletions=[O],P.flags|=16):L.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function o(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Ii(P,O),P.index=0,P.sibling=null,P}function f(P,O,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<O?(P.flags|=67108866,O):L):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,O,L,F){return O===null||O.tag!==6?(O=Kh(L,P.mode,F),O.return=P,O):(O=h(O,L),O.return=P,O)}function R(P,O,L,F){var st=L.type;return st===$?j(P,O,L.props.children,F,L.key):O!==null&&(O.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&Pp(st)===O.type)?(O=h(O,L.props),Yo(O,L),O.return=P,O):(O=Iu(L.type,L.key,L.props,null,P.mode,F),Yo(O,L),O.return=P,O)}function x(P,O,L,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Yh(L,P.mode,F),O.return=P,O):(O=h(O,L.children||[]),O.return=P,O)}function j(P,O,L,F,st){return O===null||O.tag!==7?(O=gs(L,P.mode,F,st),O.return=P,O):(O=h(O,L),O.return=P,O)}function K(P,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Kh(""+O,P.mode,L),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return L=Iu(O.type,O.key,O.props,null,P.mode,L),Yo(L,O),L.return=P,L;case G:return O=Yh(O,P.mode,L),O.return=P,O;case S:var F=O._init;return O=F(O._payload),K(P,O,L)}if(re(O)||k(O))return O=gs(O,P.mode,L,null),O.return=P,O;if(typeof O.then=="function")return K(P,Gu(O),L);if(O.$$typeof===ct)return K(P,Nu(P,O),L);Fu(P,O)}return null}function z(P,O,L,F){var st=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return st!==null?null:E(P,O,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===st?R(P,O,L,F):null;case G:return L.key===st?x(P,O,L,F):null;case S:return st=L._init,L=st(L._payload),z(P,O,L,F)}if(re(L)||k(L))return st!==null?null:j(P,O,L,F,null);if(typeof L.then=="function")return z(P,O,Gu(L),F);if(L.$$typeof===ct)return z(P,O,Nu(P,L),F);Fu(P,L)}return null}function B(P,O,L,F,st){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return P=P.get(L)||null,E(O,P,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return P=P.get(F.key===null?L:F.key)||null,R(O,P,F,st);case G:return P=P.get(F.key===null?L:F.key)||null,x(O,P,F,st);case S:var bt=F._init;return F=bt(F._payload),B(P,O,L,F,st)}if(re(F)||k(F))return P=P.get(L)||null,j(O,P,F,st,null);if(typeof F.then=="function")return B(P,O,L,Gu(F),st);if(F.$$typeof===ct)return B(P,O,L,Nu(O,F),st);Fu(O,F)}return null}function gt(P,O,L,F){for(var st=null,bt=null,at=O,ft=O=0,Ve=null;at!==null&&ft<L.length;ft++){at.index>ft?(Ve=at,at=null):Ve=at.sibling;var kt=z(P,at,L[ft],F);if(kt===null){at===null&&(at=Ve);break}e&&at&&kt.alternate===null&&i(P,at),O=f(kt,O,ft),bt===null?st=kt:bt.sibling=kt,bt=kt,at=Ve}if(ft===L.length)return a(P,at),Lt&&ys(P,ft),st;if(at===null){for(;ft<L.length;ft++)at=K(P,L[ft],F),at!==null&&(O=f(at,O,ft),bt===null?st=at:bt.sibling=at,bt=at);return Lt&&ys(P,ft),st}for(at=o(at);ft<L.length;ft++)Ve=B(at,P,ft,L[ft],F),Ve!==null&&(e&&Ve.alternate!==null&&at.delete(Ve.key===null?ft:Ve.key),O=f(Ve,O,ft),bt===null?st=Ve:bt.sibling=Ve,bt=Ve);return e&&at.forEach(function(Ar){return i(P,Ar)}),Lt&&ys(P,ft),st}function ht(P,O,L,F){if(L==null)throw Error(s(151));for(var st=null,bt=null,at=O,ft=O=0,Ve=null,kt=L.next();at!==null&&!kt.done;ft++,kt=L.next()){at.index>ft?(Ve=at,at=null):Ve=at.sibling;var Ar=z(P,at,kt.value,F);if(Ar===null){at===null&&(at=Ve);break}e&&at&&Ar.alternate===null&&i(P,at),O=f(Ar,O,ft),bt===null?st=Ar:bt.sibling=Ar,bt=Ar,at=Ve}if(kt.done)return a(P,at),Lt&&ys(P,ft),st;if(at===null){for(;!kt.done;ft++,kt=L.next())kt=K(P,kt.value,F),kt!==null&&(O=f(kt,O,ft),bt===null?st=kt:bt.sibling=kt,bt=kt);return Lt&&ys(P,ft),st}for(at=o(at);!kt.done;ft++,kt=L.next())kt=B(at,P,ft,kt.value,F),kt!==null&&(e&&kt.alternate!==null&&at.delete(kt.key===null?ft:kt.key),O=f(kt,O,ft),bt===null?st=kt:bt.sibling=kt,bt=kt);return e&&at.forEach(function(cS){return i(P,cS)}),Lt&&ys(P,ft),st}function Yt(P,O,L,F){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:t:{for(var st=L.key;O!==null;){if(O.key===st){if(st=L.type,st===$){if(O.tag===7){a(P,O.sibling),F=h(O,L.props.children),F.return=P,P=F;break t}}else if(O.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&Pp(st)===O.type){a(P,O.sibling),F=h(O,L.props),Yo(F,L),F.return=P,P=F;break t}a(P,O);break}else i(P,O);O=O.sibling}L.type===$?(F=gs(L.props.children,P.mode,F,L.key),F.return=P,P=F):(F=Iu(L.type,L.key,L.props,null,P.mode,F),Yo(F,L),F.return=P,P=F)}return v(P);case G:t:{for(st=L.key;O!==null;){if(O.key===st)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(P,O.sibling),F=h(O,L.children||[]),F.return=P,P=F;break t}else{a(P,O);break}else i(P,O);O=O.sibling}F=Yh(L,P.mode,F),F.return=P,P=F}return v(P);case S:return st=L._init,L=st(L._payload),Yt(P,O,L,F)}if(re(L))return gt(P,O,L,F);if(k(L)){if(st=k(L),typeof st!="function")throw Error(s(150));return L=st.call(L),ht(P,O,L,F)}if(typeof L.then=="function")return Yt(P,O,Gu(L),F);if(L.$$typeof===ct)return Yt(P,O,Nu(P,L),F);Fu(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(P,O.sibling),F=h(O,L),F.return=P,P=F):(a(P,O),F=Kh(L,P.mode,F),F.return=P,P=F),v(P)):a(P,O)}return function(P,O,L,F){try{Ko=0;var st=Yt(P,O,L,F);return va=null,st}catch(at){if(at===xo||at===Mu)throw at;var bt=cn(29,at,null,P.mode);return bt.lanes=F,bt.return=P,bt}finally{}}}var Ea=kp(!0),Up=kp(!1),In=X(null),ni=null;function or(e){var i=e.alternate;W(be,be.current&1),W(In,e),ni===null&&(i===null||ga.current!==null||i.memoizedState!==null)&&(ni=e)}function Lp(e){if(e.tag===22){if(W(be,be.current),W(In,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else lr()}function lr(){W(be,be.current),W(In,In.current)}function Mi(e){et(In),ni===e&&(ni=null),et(be)}var be=X(0);function Qu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||yd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Cf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Df={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=mn(),h=rr(o);h.payload=i,a!=null&&(h.callback=a),i=sr(e,h,o),i!==null&&(gn(i,e,o),Bo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=mn(),h=rr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=sr(e,h,o),i!==null&&(gn(i,e,o),Bo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=mn(),o=rr(a);o.tag=2,i!=null&&(o.callback=i),i=sr(e,o,a),i!==null&&(gn(i,e,a),Bo(i,e,a))}};function xp(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!Oo(a,o)||!Oo(h,f):!0}function zp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Df.enqueueReplaceState(i,i.state,null)}function Rs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Bp(e){Ku(e)}function qp(e){console.error(e)}function Hp(e){Ku(e)}function Yu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function jp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,i,a){return a=rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(e,i)},a}function Gp(e){return e=rr(e),e.tag=3,e}function Fp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){jp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){jp(i,a,o),typeof h!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function cA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&ko(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ni===null?td():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===sf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),nd(e,o,h)),!1;case 22:return a.flags|=65536,o===sf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),nd(e,o,h)),!1}throw Error(s(435,a.tag))}return nd(e,o,h),td(),!1}if(Lt)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Zh&&(e=Error(s(422),{cause:o}),Po(Sn(e,a)))):(o!==Zh&&(i=Error(s(423),{cause:o}),Po(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Sn(o,a),h=Of(e.stateNode,o,h),lf(e,h),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:o});if(f=Sn(f,a),el===null?el=[f]:el.push(f),oe!==4&&(oe=2),i===null)return!0;o=Sn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Of(a.stateNode,o,e),lf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(mr===null||!mr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gp(h),Fp(h,e,a,o),lf(a,h),!1}a=a.return}while(a!==null);return!1}var Qp=Error(s(461)),Oe=!1;function Le(e,i,a,o){i.child=e===null?Up(i,null,a,o):Ea(i,e.child,a,o)}function Kp(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Ts(i),o=df(e,i,a,v,f,h),E=mf(),e!==null&&!Oe?(gf(e,i,h),Pi(e,i,h)):(Lt&&E&&Xh(i),i.flags|=1,Le(e,i,o,h),i.child)}function Yp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Xp(e,i,f,o,h)):(e=Iu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!xf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(v,o)&&e.ref===i.ref)return Pi(e,i,h)}return i.flags|=1,e=Ii(f,o),e.ref=i.ref,e.return=i,i.child=e}function Xp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=o=f,xf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Pi(e,i,h)}return Nf(e,i,a,o,h)}function $p(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Zp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(i,f!==null?f.cachePool:null),f!==null?Xg(i,f):cf(),Lp(i);else return i.lanes=i.childLanes=536870912,Zp(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Vu(i,f.cachePool),Xg(i,f),lr(),i.memoizedState=null):(e!==null&&Vu(i,null),cf(),lr());return Le(e,i,h,a),i.child}function Zp(e,i,a,o){var h=rf();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Vu(i,null),cf(),Lp(i),e!==null&&ko(e,i,o,!0),null}function Xu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Nf(e,i,a,o,h){return Ts(i),a=df(e,i,a,o,void 0,h),o=mf(),e!==null&&!Oe?(gf(e,i,h),Pi(e,i,h)):(Lt&&o&&Xh(i),i.flags|=1,Le(e,i,a,h),i.child)}function Wp(e,i,a,o,h,f){return Ts(i),i.updateQueue=null,a=Zg(i,o,a,h),$g(e),o=mf(),e!==null&&!Oe?(gf(e,i,f),Pi(e,i,f)):(Lt&&o&&Xh(i),i.flags|=1,Le(e,i,a,f),i.child)}function Jp(e,i,a,o,h){if(Ts(i),i.stateNode===null){var f=ca,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ge(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},af(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ge(v):ca,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Cf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Df.enqueueReplaceState(f,f.state,null),Ho(i,o,f,h),qo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,R=Rs(a,E);f.props=R;var x=f.context,j=a.contextType;v=ca,typeof j=="object"&&j!==null&&(v=Ge(j));var K=a.getDerivedStateFromProps;j=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||x!==v)&&zp(i,f,o,v),ir=!1;var z=i.memoizedState;f.state=z,Ho(i,o,f,h),qo(),x=i.memoizedState,E||z!==x||ir?(typeof K=="function"&&(Cf(i,a,K,o),x=i.memoizedState),(R=ir||xp(i,a,R,o,z,x,v))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=x),f.props=o,f.state=x,f.context=v,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,of(e,i),v=i.memoizedProps,j=Rs(a,v),f.props=j,K=i.pendingProps,z=f.context,x=a.contextType,R=ca,typeof x=="object"&&x!==null&&(R=Ge(x)),E=a.getDerivedStateFromProps,(x=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||z!==R)&&zp(i,f,o,R),ir=!1,z=i.memoizedState,f.state=z,Ho(i,o,f,h),qo();var B=i.memoizedState;v!==K||z!==B||ir||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(Cf(i,a,E,o),B=i.memoizedState),(j=ir||xp(i,a,j,o,z,B,R)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=R,o=j):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Xu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Ea(i,e.child,null,h),i.child=Ea(i,null,a,h)):Le(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Pi(e,i,h),e}function ty(e,i,a,o){return Mo(),i.flags|=256,Le(e,i,a,o),i.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:qg()}}function Pf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Cn),e}function ey(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Lt){if(h?or(i):lr(),Lt){var E=ae,R;if(R=E){t:{for(R=E,E=ei;R.nodeType!==8;){if(!E){E=null;break t}if(R=xn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:ps!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},R=cn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,Je=i,ae=null,R=!0):R=!1}R||vs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return yd(E)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return E=o.children,o=o.fallback,h?(lr(),h=i.mode,E=$u({mode:"hidden",children:E},h),o=gs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Mf(a),h.childLanes=Pf(e,v,a),i.memoizedState=Vf,o):(or(i),kf(i,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)i.flags&256?(or(i),i.flags&=-257,i=Uf(e,i,a)):i.memoizedState!==null?(lr(),i.child=e.child,i.flags|=128,i=null):(lr(),h=o.fallback,E=i.mode,o=$u({mode:"visible",children:o.children},E),h=gs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Ea(i,e.child,null,a),o=i.child,o.memoizedState=Mf(a),o.childLanes=Pf(e,v,a),i.memoizedState=Vf,i=h);else if(or(i),yd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var x=v.dgst;v=x,o=Error(s(419)),o.stack="",o.digest=v,Po({value:o,source:null,stack:null}),i=Uf(e,i,a)}else if(Oe||ko(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Zt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Xi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,ua(e,o),gn(v,e,o),Qp;E.data==="$?"||td(),i=Uf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ae=xn(E.nextSibling),Je=i,Lt=!0,_s=null,ei=!1,e!==null&&(bn[wn++]=Ci,bn[wn++]=Di,bn[wn++]=ps,Ci=e.id,Di=e.overflow,ps=i),i=kf(i,o.children),i.flags|=4096);return i}return h?(lr(),h=o.fallback,E=i.mode,R=e.child,x=R.sibling,o=Ii(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,x!==null?h=Ii(x,h):(h=gs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Mf(a):(R=E.cachePool,R!==null?(x=Re._currentValue,R=R.parent!==x?{parent:x,pool:x}:R):R=qg(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=Pf(e,v,a),i.memoizedState=Vf,o):(or(i),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function kf(e,i){return i=$u({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function $u(e,i){return e=cn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Uf(e,i,a){return Ea(i,e.child,null,a),e=kf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ny(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Jh(e.return,i,a)}function Lf(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function iy(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Le(e,i,o.children,a),o=be.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,a,i);else if(e.tag===19)ny(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(be,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Lf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Qu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Lf(i,!0,a,null,f);break;case"together":Lf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),dr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ko(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function xf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function hA(e,i,a){switch(i.tag){case 3:$t(i,i.stateNode.containerInfo),nr(i,Re,e.memoizedState.cache),Mo();break;case 27:case 5:Yi(i);break;case 4:$t(i,i.stateNode.containerInfo);break;case 10:nr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ey(e,i,a):(or(i),e=Pi(e,i,a),e!==null?e.sibling:null);or(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(ko(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return iy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(be,be.current),o)break;return null;case 22:case 23:return i.lanes=0,$p(e,i,a);case 24:nr(i,Re,e.memoizedState.cache)}return Pi(e,i,a)}function ry(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!xf(e,a)&&(i.flags&128)===0)return Oe=!1,hA(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Lt&&(i.flags&1048576)!==0&&Pg(i,Du,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Qh(o)?(e=Rs(o,e),i.tag=1,i=Jp(null,i,o,e,a)):(i.tag=0,i=Nf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===qt){i.tag=11,i=Kp(null,i,o,e,a);break t}else if(h===M){i.tag=14,i=Yp(null,i,o,e,a);break t}}throw i=Pe(o)||o,Error(s(306,i,""))}}return i;case 0:return Nf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Rs(o,i.pendingProps),Jp(e,i,o,h,a);case 3:t:{if($t(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,of(e,i),Ho(i,o,null,a);var v=i.memoizedState;if(o=v.cache,nr(i,Re,o),o!==f.cache&&tf(i,[Re],a,!0),qo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=ty(e,i,o,a);break t}else if(o!==h){h=Sn(Error(s(424)),i),Po(h),i=ty(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=xn(e.firstChild),Je=i,Lt=!0,_s=null,ei=!0,a=Up(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mo(),o===h){i=Pi(e,i,a);break t}Le(e,i,o,a)}i=i.child}return i;case 26:return Xu(e,i),e===null?(a=l_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Lt||(a=i.type,e=i.pendingProps,o=cc(yt.current).createElement(a),o[Te]=i,o[fe]=e,ze(o,a,e),le(o),i.stateNode=o):i.memoizedState=l_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Yi(i),e===null&&Lt&&(o=i.stateNode=s_(i.type,i.pendingProps,yt.current),Je=i,ei=!0,h=ae,yr(i.type)?(_d=h,ae=xn(o.firstChild)):ae=h),Le(e,i,i.pendingProps.children,a),Xu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Lt&&((h=o=ae)&&(o=zA(o,i.type,i.pendingProps,ei),o!==null?(i.stateNode=o,Je=i,ae=xn(o.firstChild),ei=!1,h=!0):h=!1),h||vs(i)),Yi(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,md(h,f)?o=null:v!==null&&md(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=df(e,i,iA,null,null,a),cl._currentValue=h),Xu(e,i),Le(e,i,o,a),i.child;case 6:return e===null&&Lt&&((e=a=ae)&&(a=BA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,Je=i,ae=null,e=!0):e=!1),e||vs(i)),null;case 13:return ey(e,i,a);case 4:return $t(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ea(i,null,o,a):Le(e,i,o,a),i.child;case 11:return Kp(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,nr(i,i.type,o.value),Le(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ts(i),h=Ge(h),o=o(h),i.flags|=1,Le(e,i,o,a),i.child;case 14:return Yp(e,i,i.type,i.pendingProps,a);case 15:return Xp(e,i,i.type,i.pendingProps,a);case 19:return iy(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=$u(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return $p(e,i,a);case 24:return Ts(i),o=Ge(Re),e===null?(h=rf(),h===null&&(h=Zt,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},af(i),nr(i,Re,h)):((e.lanes&a)!==0&&(of(e,i),Ho(i,null,null,a),qo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),nr(i,Re,o)):(o=f.cache,nr(i,Re,o),o!==h.cache&&tf(i,[Re],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ki(e){e.flags|=4}function sy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!d_(i)){if(i=In.current,i!==null&&((Mt&4194048)===Mt?ni!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||i!==ni))throw zo=sf,Hg;e.flags|=8192}}function Zu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ho():536870912,e.lanes|=i,Ra|=i)}function Xo(e,i){if(!Lt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function fA(e,i,a){var o=i.pendingProps;switch($h(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ni(Re),jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vo(i)?ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lg())),ne(i),null;case 26:return a=i.memoizedState,e===null?(ki(i),a!==null?(ne(i),sy(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ki(i),ne(i),sy(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==o&&ki(i),ne(i),i.flags&=-16777217),null;case 27:mi(i),a=yt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=ut.current,Vo(i)?kg(i):(e=s_(h,o,a),i.stateNode=e,ki(i))}return ne(i),null;case 5:if(mi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=ut.current,Vo(i))kg(i);else{switch(h=cc(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Te]=i,e[fe]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ki(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=yt.current,Vo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Wy(e.nodeValue,a)),e||vs(i)}else e=cc(e).createTextNode(o),e[Te]=i,i.stateNode=e}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Vo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else Mo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=Lg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Zu(i,i.updateQueue),ne(i),null;case 4:return jn(),e===null&&ud(i.stateNode.containerInfo),ne(i),null;case 10:return Ni(i.type),ne(i),null;case 19:if(et(be),h=i.memoizedState,h===null)return ne(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Xo(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Qu(e),f!==null){for(i.flags|=128,Xo(h,!1),e=f.updateQueue,i.updateQueue=e,Zu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Mg(a,e),a=a.sibling;return W(be,be.current&1|2),i.child}e=e.sibling}h.tail!==null&&yn()>tc&&(i.flags|=128,o=!0,Xo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Qu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Zu(i,e),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Lt)return ne(i),null}else 2*yn()-h.renderingStartTime>tc&&a!==536870912&&(i.flags|=128,o=!0,Xo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yn(),i.sibling=null,e=be.current,W(be,o?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Mi(i),hf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&Zu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&et(As),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(Re),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function dA(e,i){switch($h(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(Re),jn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return mi(i),null;case 13:if(Mi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Mo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return et(be),null;case 4:return jn(),null;case 10:return Ni(i.type),null;case 22:case 23:return Mi(i),hf(),e!==null&&et(As),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(Re),null;case 25:return null;default:return null}}function ay(e,i){switch($h(i),i.tag){case 3:Ni(Re),jn();break;case 26:case 27:case 5:mi(i);break;case 4:jn();break;case 13:Mi(i);break;case 19:et(be);break;case 10:Ni(i.type);break;case 22:case 23:Mi(i),hf(),e!==null&&et(As);break;case 24:Ni(Re)}}function $o(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){Xt(i,i.return,E)}}function ur(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var R=a,x=E;try{x()}catch(j){Xt(h,R,j)}}}o=o.next}while(o!==f)}}catch(j){Xt(i,i.return,j)}}function oy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Yg(i,a)}catch(o){Xt(e,e.return,o)}}}function ly(e,i,a){a.props=Rs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Xt(e,i,o)}}function Zo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Xt(e,i,h)}}function ii(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function uy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function zf(e,i,a){try{var o=e.stateNode;PA(o,e.type,a,i),o[fe]=i}catch(h){Xt(e,e.return,h)}}function cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yr(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=uc));else if(o!==4&&(o===27&&yr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(qf(e,i,a),e=e.sibling;e!==null;)qf(e,i,a),e=e.sibling}function Wu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&yr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wu(e,i,a),e=e.sibling;e!==null;)Wu(e,i,a),e=e.sibling}function hy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,o,a),i[Te]=e,i[fe]=a}catch(f){Xt(e,e.return,f)}}var Ui=!1,ce=!1,Hf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function mA(e,i){if(e=e.containerInfo,fd=pc,e=Sg(e),zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,x=0,j=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=v+h),K!==f||o!==0&&K.nodeType!==3||(R=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++x===h&&(E=v),z===f&&++j===o&&(R=v),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(dd={focusedElem:e,selectionRange:a},pc=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var gt=Rs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(gt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Xt(a,a.return,ht)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)pd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}}function dy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:cr(e,a),o&4&&$o(5,a);break;case 1:if(cr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Xt(a,a.return,v)}else{var h=Rs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(a,a.return,v)}}o&64&&oy(a),o&512&&Zo(a,a.return);break;case 3:if(cr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Yg(e,i)}catch(v){Xt(a,a.return,v)}}break;case 27:i===null&&o&4&&hy(a);case 26:case 5:cr(e,a),i===null&&o&4&&uy(a),o&512&&Zo(a,a.return);break;case 12:cr(e,a);break;case 13:cr(e,a),o&4&&py(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=SA.bind(null,a),qA(e,a))));break;case 22:if(o=a.memoizedState!==null||Ui,!o){i=i!==null&&i.memoizedState!==null||ce,h=Ui;var f=ce;Ui=o,(ce=i)&&!f?hr(e,a,(a.subtreeFlags&8772)!==0):cr(e,a),Ui=h,ce=f}break;case 30:break;default:cr(e,a)}}function my(e){var i=e.alternate;i!==null&&(e.alternate=null,my(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Wi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,nn=!1;function Li(e,i,a){for(a=a.child;a!==null;)gy(e,i,a),a=a.sibling}function gy(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:ce||ii(a,i),Li(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||ii(a,i);var o=ee,h=nn;yr(a.type)&&(ee=a.stateNode,nn=!1),Li(e,i,a),al(a.stateNode),ee=o,nn=h;break;case 5:ce||ii(a,i);case 6:if(o=ee,h=nn,ee=null,Li(e,i,a),ee=o,nn=h,ee!==null)if(nn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(f){Xt(a,i,f)}else try{ee.removeChild(a.stateNode)}catch(f){Xt(a,i,f)}break;case 18:ee!==null&&(nn?(e=ee,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ml(e)):i_(ee,a.stateNode));break;case 4:o=ee,h=nn,ee=a.stateNode.containerInfo,nn=!0,Li(e,i,a),ee=o,nn=h;break;case 0:case 11:case 14:case 15:ce||ur(2,a,i),ce||ur(4,a,i),Li(e,i,a);break;case 1:ce||(ii(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ly(a,i,o)),Li(e,i,a);break;case 21:Li(e,i,a);break;case 22:ce=(o=ce)||a.memoizedState!==null,Li(e,i,a),ce=o;break;default:Li(e,i,a)}}function py(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ml(e)}catch(a){Xt(i,i.return,a)}}function gA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new fy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new fy),i;default:throw Error(s(435,e.tag))}}function jf(e,i){var a=gA(e);i.forEach(function(o){var h=RA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function hn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(yr(E.type)){ee=E.stateNode,nn=!1;break t}break;case 5:ee=E.stateNode,nn=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ee===null)throw Error(s(160));gy(f,v,h),ee=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)yy(i,e),i=i.sibling}var Ln=null;function yy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),o&4&&(ur(3,e,e.return),$o(3,e),ur(5,e,e.return));break;case 1:hn(i,e),fn(e),o&512&&(ce||a===null||ii(a,a.return)),o&64&&Ui&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Ln;if(hn(i,e),fn(e),o&512&&(ce||a===null||ii(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Jr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,o,a),f[Te]=e,le(f),o=f;break t;case"link":var v=h_("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),ze(f,o,a),h.head.appendChild(f);break;case"meta":if(v=h_("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),ze(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Te]=e,le(f),o=f}e.stateNode=o}else f_(h,e.type,e.stateNode);else e.stateNode=c_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?f_(h,e.type,e.stateNode):c_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),o&512&&(ce||a===null||ii(a,a.return)),a!==null&&o&4&&zf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),o&512&&(ce||a===null||ii(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(B){Xt(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(hn(i,e),fn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){Xt(e,e.return,B)}}break;case 3:if(dc=null,h=Ln,Ln=hc(i.containerInfo),hn(i,e),Ln=h,fn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ml(i.containerInfo)}catch(B){Xt(e,e.return,B)}Hf&&(Hf=!1,_y(e));break;case 4:o=Ln,Ln=hc(e.stateNode.containerInfo),hn(i,e),fn(e),Ln=o;break;case 12:hn(i,e),fn(e);break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xf=yn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,jf(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,x=Ui,j=ce;if(Ui=x||h,ce=j||R,hn(i,e),ce=j,Ui=x,fn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Ui||ce||bs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Xt(R,R.return,B)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(B){Xt(R,R.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,jf(e,a))));break;case 19:hn(i,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,jf(e,o)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(cy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Bf(e);Wu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(vn(v,""),a.flags&=-33);var E=Bf(e);Wu(e,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,x=Bf(e);qf(e,x,R);break;default:throw Error(s(161))}}catch(j){Xt(e,e.return,j)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;_y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function cr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)dy(e,i.alternate,i),i=i.sibling}function bs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ur(4,i,i.return),bs(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ly(i,i.return,a),bs(i);break;case 27:al(i.stateNode);case 26:case 5:ii(i,i.return),bs(i);break;case 22:i.memoizedState===null&&bs(i);break;case 30:bs(i);break;default:bs(i)}e=e.sibling}}function hr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:hr(h,f,a),$o(4,f);break;case 1:if(hr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){Xt(o,o.return,x)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Kg(R[h],E)}catch(x){Xt(o,o.return,x)}}a&&v&64&&oy(f),Zo(f,f.return);break;case 27:hy(f);case 26:case 5:hr(h,f,a),a&&o===null&&v&4&&uy(f),Zo(f,f.return);break;case 12:hr(h,f,a);break;case 13:hr(h,f,a),a&&v&4&&py(h,f);break;case 22:f.memoizedState===null&&hr(h,f,a),Zo(f,f.return);break;case 30:break;default:hr(h,f,a)}i=i.sibling}}function Gf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Uo(a))}function Ff(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Uo(e))}function ri(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vy(e,i,a,o),i=i.sibling}function vy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,a,o),h&2048&&$o(9,i);break;case 1:ri(e,i,a,o);break;case 3:ri(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){ri(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(i,i.return,R)}}else ri(e,i,a,o);break;case 13:ri(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ri(e,i,a,o):Wo(e,i):f._visibility&2?ri(e,i,a,o):(f._visibility|=2,Ta(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Gf(v,i);break;case 24:ri(e,i,a,o),h&2048&&Ff(i.alternate,i);break;default:ri(e,i,a,o)}}function Ta(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,R=o,x=v.flags;switch(v.tag){case 0:case 11:case 15:Ta(f,v,E,R,h),$o(8,v);break;case 23:break;case 22:var j=v.stateNode;v.memoizedState!==null?j._visibility&2?Ta(f,v,E,R,h):Wo(f,v):(j._visibility|=2,Ta(f,v,E,R,h)),h&&x&2048&&Gf(v.alternate,v);break;case 24:Ta(f,v,E,R,h),h&&x&2048&&Ff(v.alternate,v);break;default:Ta(f,v,E,R,h)}i=i.sibling}}function Wo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Wo(a,o),h&2048&&Gf(o.alternate,o);break;case 24:Wo(a,o),h&2048&&Ff(o.alternate,o);break;default:Wo(a,o)}i=i.sibling}}var Jo=8192;function Aa(e){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 26:Aa(e),e.flags&Jo&&e.memoizedState!==null&&tS(Ln,e.memoizedState,e.memoizedProps);break;case 5:Aa(e);break;case 3:case 4:var i=Ln;Ln=hc(e.stateNode.containerInfo),Aa(e),Ln=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Jo,Jo=16777216,Aa(e),Jo=i):Aa(e));break;default:Aa(e)}}function Ty(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function tl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,Sy(o,e)}Ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&ur(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ju(e)):tl(e);break;default:tl(e)}}function Ju(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,Sy(o,e)}Ty(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ur(8,i,i.return),Ju(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ju(i));break;default:Ju(i)}e=e.sibling}}function Sy(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ne=o;else t:for(a=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(my(o),o===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var pA={getCacheForType:function(e){var i=Ge(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},yA=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,wt=null,Mt=0,Gt=0,dn=null,fr=!1,Sa=!1,Qf=!1,xi=0,oe=0,dr=0,ws=0,Kf=0,Cn=0,Ra=0,el=null,rn=null,Yf=!1,Xf=0,tc=1/0,ec=null,mr=null,xe=0,gr=null,ba=null,wa=0,$f=0,Zf=null,Ry=null,nl=0,Wf=null;function mn(){if((jt&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var e=da;return e!==0?e:sd()}return $i()}function by(){Cn===0&&(Cn=(Mt&536870912)===0||Lt?co():536870912);var e=In.current;return e!==null&&(e.flags|=32),Cn}function gn(e,i,a){(e===Zt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),pr(e,Mt,Cn,!1)),pi(e,a),((jt&2)===0||e!==Zt)&&(e===Zt&&((jt&2)===0&&(ws|=a),oe===4&&pr(e,Mt,Cn,!1)),si(e))}function wy(e,i,a){if((jt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Wr(e,i),h=o?EA(e,i):ed(e,i,!0),f=o;do{if(h===0){Sa&&!o&&pr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!_A(a)){h=ed(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=el;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,v).flags|=256),v=ed(E,v,!1),v!==2){if(Qf&&!R){E.errorRecoveryDisabledLanes|=f,ws|=f,h=4;break t}f=rn,rn=h,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Ia(e,0),pr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:pr(o,i,Cn,!fr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Xf+300-yn(),10<h)){if(pr(o,i,Cn,!fr),Gs(o,0,!0)!==0)break t;o.timeoutHandle=e_(Iy.bind(null,o,a,rn,ec,Yf,i,Cn,ws,Ra,fr,f,2,-0,0),h);break t}Iy(o,a,rn,ec,Yf,i,Cn,ws,Ra,fr,f,0,-0,0)}}break}while(!0);si(e)}function Iy(e,i,a,o,h,f,v,E,R,x,j,K,z,B){if(e.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:JA},Ey(i),K=eS(),K!==null)){e.cancelPendingCommit=K(Py.bind(null,e,i,f,a,o,h,v,E,R,j,1,z,B)),pr(e,f,v,!x);return}Py(e,i,f,a,o,h,v,E,R)}function _A(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!un(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pr(e,i,a,o){i&=~Kf,i&=~ws,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-je(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&Gn(e,a,i)}function nc(){return(jt&6)===0?(il(0),!1):!0}function Jf(){if(wt!==null){if(Gt===0)var e=wt.return;else e=wt,Oi=Es=null,pf(e),va=null,Ko=0,e=wt;for(;e!==null;)ay(e.alternate,e),e=e.return;wt=null}}function Ia(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,UA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Jf(),Zt=e,wt=a=Ii(e.current,null),Mt=i,Gt=0,dn=null,fr=!1,Sa=Wr(e,i),Qf=!1,Ra=Cn=Kf=ws=dr=oe=0,rn=el=null,Yf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-je(o),f=1<<h;i|=e[h],o&=~f}return xi=i,Ru(),a}function Cy(e,i){St=null,H.H=ju,i===xo||i===Mu?(i=Fg(),Gt=3):i===Hg?(i=Fg(),Gt=4):Gt=i===Qp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,wt===null&&(oe=1,Yu(e,Sn(i,e.current)))}function Dy(){var e=H.H;return H.H=ju,e===null?ju:e}function Oy(){var e=H.A;return H.A=pA,e}function td(){oe=4,fr||(Mt&4194048)!==Mt&&In.current!==null||(Sa=!0),(dr&134217727)===0&&(ws&134217727)===0||Zt===null||pr(Zt,Mt,Cn,!1)}function ed(e,i,a){var o=jt;jt|=2;var h=Dy(),f=Oy();(Zt!==e||Mt!==i)&&(ec=null,Ia(e,i)),i=!1;var v=oe;t:do try{if(Gt!==0&&wt!==null){var E=wt,R=dn;switch(Gt){case 8:Jf(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var x=Gt;if(Gt=0,dn=null,Ca(e,E,R,x),a&&Sa){v=0;break t}break;default:x=Gt,Gt=0,dn=null,Ca(e,E,R,x)}}vA(),v=oe;break}catch(j){Cy(e,j)}while(!0);return i&&e.shellSuspendCounter++,Oi=Es=null,jt=o,H.H=h,H.A=f,wt===null&&(Zt=null,Mt=0,Ru()),v}function vA(){for(;wt!==null;)Ny(wt)}function EA(e,i){var a=jt;jt|=2;var o=Dy(),h=Oy();Zt!==e||Mt!==i?(ec=null,tc=yn()+500,Ia(e,i)):Sa=Wr(e,i);t:do try{if(Gt!==0&&wt!==null){i=wt;var f=dn;e:switch(Gt){case 1:Gt=0,dn=null,Ca(e,i,f,1);break;case 2:case 9:if(jg(f)){Gt=0,dn=null,Vy(i);break}i=function(){Gt!==2&&Gt!==9||Zt!==e||(Gt=7),si(e)},f.then(i,i);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:jg(f)?(Gt=0,dn=null,Vy(i)):(Gt=0,dn=null,Ca(e,i,f,7));break;case 5:var v=null;switch(wt.tag){case 26:v=wt.memoizedState;case 5:case 27:var E=wt;if(!v||d_(v)){Gt=0,dn=null;var R=E.sibling;if(R!==null)wt=R;else{var x=E.return;x!==null?(wt=x,ic(x)):wt=null}break e}}Gt=0,dn=null,Ca(e,i,f,5);break;case 6:Gt=0,dn=null,Ca(e,i,f,6);break;case 8:Jf(),oe=6;break t;default:throw Error(s(462))}}TA();break}catch(j){Cy(e,j)}while(!0);return Oi=Es=null,H.H=o,H.A=h,jt=a,wt!==null?0:(Zt=null,Mt=0,Ru(),oe)}function TA(){for(;wt!==null&&!ao();)Ny(wt)}function Ny(e){var i=ry(e.alternate,e,xi);e.memoizedProps=e.pendingProps,i===null?ic(e):wt=i}function Vy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Wp(a,i,i.pendingProps,i.type,void 0,Mt);break;case 11:i=Wp(a,i,i.pendingProps,i.type.render,i.ref,Mt);break;case 5:pf(i);default:ay(a,i),i=wt=Mg(i,xi),i=ry(a,i,xi)}e.memoizedProps=e.pendingProps,i===null?ic(e):wt=i}function Ca(e,i,a,o){Oi=Es=null,pf(i),va=null,Ko=0;var h=i.return;try{if(cA(e,h,i,a,Mt)){oe=1,Yu(e,Sn(a,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;oe=1,Yu(e,Sn(a,e.current)),wt=null;return}i.flags&32768?(Lt||o===1?e=!0:Sa||(Mt&536870912)!==0?e=!1:(fr=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),My(i,e)):ic(i)}function ic(e){var i=e;do{if((i.flags&32768)!==0){My(i,fr);return}e=i.return;var a=fA(i.alternate,i,xi);if(a!==null){wt=a;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=e}while(i!==null);oe===0&&(oe=5)}function My(e,i){do{var a=dA(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);oe=6,wt=null}function Py(e,i,a,o,h,f,v,E,R){e.cancelPendingCommit=null;do rc();while(xe!==0);if((jt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Gh,fo(e,a,f,v,E,R),e===Zt&&(wt=Zt=null,Mt=0),ba=i,gr=e,wa=a,$f=f,Zf=h,Ry=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bA(Yr,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,v=jt,jt|=4;try{mA(e,i,a)}finally{jt=v,tt.p=h,H.T=o}}xe=1,ky(),Uy(),Ly()}}function ky(){if(xe===1){xe=0;var e=gr,i=ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=jt;jt|=4;try{yy(i,e);var f=dd,v=Sg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Ag(E.ownerDocument.documentElement,E)){if(R!==null&&zh(E)){var x=R.start,j=R.end;if(j===void 0&&(j=x),"selectionStart"in E)E.selectionStart=x,E.selectionEnd=Math.min(j,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),gt=E.textContent.length,ht=Math.min(R.start,gt),Yt=R.end===void 0?ht:Math.min(R.end,gt);!B.extend&&ht>Yt&&(v=Yt,Yt=ht,ht=v);var P=Tg(E,ht),O=Tg(E,Yt);if(P&&O&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var L=K.createRange();L.setStart(P.node,P.offset),B.removeAllRanges(),ht>Yt?(B.addRange(L),B.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),B.addRange(L))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}pc=!!fd,dd=fd=null}finally{jt=h,tt.p=o,H.T=a}}e.current=i,xe=2}}function Uy(){if(xe===2){xe=0;var e=gr,i=ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=jt;jt|=4;try{dy(e,i.alternate,i)}finally{jt=h,tt.p=o,H.T=a}}xe=3}}function Ly(){if(xe===4||xe===3){xe=0,Jl();var e=gr,i=ba,a=wa,o=Ry;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,ba=gr=null,xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(mr=null),Fs(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=i,tt.p=h}}(wa&3)!==0&&rc(),si(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Wf?nl++:(nl=0,Wf=e):nl=0,il(0)}}function xy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Uo(i)))}function rc(e){return ky(),Uy(),Ly(),zy()}function zy(){if(xe!==5)return!1;var e=gr,i=$f;$f=0;var a=Fs(wa),o=H.T,h=tt.p;try{tt.p=32>a?32:a,H.T=null,a=Zf,Zf=null;var f=gr,v=wa;if(xe=0,ba=gr=null,wa=0,(jt&6)!==0)throw Error(s(331));var E=jt;if(jt|=4,Ay(f.current),vy(f,f.current,v,a),jt=E,il(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{tt.p=h,H.T=o,xy(e,i)}}function By(e,i,a){i=Sn(a,i),i=Of(e.stateNode,i,2),e=sr(e,i,2),e!==null&&(pi(e,2),si(e))}function Xt(e,i,a){if(e.tag===3)By(e,e,a);else for(;i!==null;){if(i.tag===3){By(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(mr===null||!mr.has(o))){e=Sn(a,e),a=Gp(2),o=sr(i,a,2),o!==null&&(Fp(a,o,i,e),pi(o,2),si(o));break}}i=i.return}}function nd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new yA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Qf=!0,h.add(a),e=AA.bind(null,e,i,a),i.then(e,e))}function AA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(Mt&a)===a&&(oe===4||oe===3&&(Mt&62914560)===Mt&&300>yn()-Xf?(jt&2)===0&&Ia(e,0):Kf|=a,Ra===Mt&&(Ra=0)),si(e)}function qy(e,i){i===0&&(i=ho()),e=ua(e,i),e!==null&&(pi(e,i),si(e))}function SA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),qy(e,a)}function RA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),qy(e,a)}function bA(e,i){return Qr(e,i)}var sc=null,Da=null,id=!1,ac=!1,rd=!1,Is=0;function si(e){e!==Da&&e.next===null&&(Da===null?sc=Da=e:Da=Da.next=e),ac=!0,id||(id=!0,IA())}function il(e,i){if(!rd&&ac){rd=!0;do for(var a=!1,o=sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-je(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Fy(o,f))}else f=Mt,f=Gs(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wr(o,f)||(a=!0,Fy(o,f));o=o.next}while(a);rd=!1}}function wA(){Hy()}function Hy(){ac=id=!1;var e=0;Is!==0&&(kA()&&(e=Is),Is=0);for(var i=yn(),a=null,o=sc;o!==null;){var h=o.next,f=jy(o,i);f===0?(o.next=null,a===null?sc=h:a.next=h,h===null&&(Da=a)):(a=o,(e!==0||(f&3)!==0)&&(ac=!0)),o=h}il(e)}function jy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-je(f),E=1<<v,R=h[v];R===-1?((E&a)===0||(E&o)!==0)&&(h[v]=uo(E,i)):R<=i&&(e.expiredLanes|=E),f&=~E}if(i=Zt,a=Mt,a=Gs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Kr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Kr(o),Fs(a)){case 2:case 8:a=Hs;break;case 32:a=Yr;break;case 268435456:a=js;break;default:a=Yr}return o=Gy.bind(null,e),a=Qr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Kr(o),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(rc()&&e.callbackNode!==a)return null;var o=Mt;return o=Gs(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,i),jy(e,yn()),e.callbackNode!=null&&e.callbackNode===a?Gy.bind(null,e):null)}function Fy(e,i){if(rc())return null;wy(e,i,!0)}function IA(){LA(function(){(jt&6)!==0?Qr(oo,wA):Hy()})}function sd(){return Is===0&&(Is=co()),Is}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zs(""+e)}function Ky(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function CA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Qy((h[fe]||null).action),v=o.submitter;v&&(i=(i=v[fe]||null)?Qy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new Ws("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var R=v?Ky(h,v):new FormData(h);bf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?Ky(h,v):new FormData(h),bf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ad=0;ad<jh.length;ad++){var od=jh[ad],DA=od.toLowerCase(),OA=od[0].toUpperCase()+od.slice(1);Un(DA,"on"+OA)}Un(wg,"onAnimationEnd"),Un(Ig,"onAnimationIteration"),Un(Cg,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(K0,"onTransitionRun"),Un(Y0,"onTransitionStart"),Un(X0,"onTransitionCancel"),Un(Dg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Yy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],R=E.instance,x=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(j){Ku(j)}h.currentTarget=null,f=R}else for(v=0;v<o.length;v++){if(E=o[v],R=E.instance,x=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(j){Ku(j)}h.currentTarget=null,f=R}}}}function It(e,i){var a=i[go];a===void 0&&(a=i[go]=new Set);var o=e+"__bubble";a.has(o)||(Xy(i,e,2,!1),a.add(o))}function ld(e,i,a){var o=0;i&&(o|=4),Xy(a,e,o,i)}var oc="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[oc]){e[oc]=!0,po.forEach(function(a){a!=="selectionchange"&&(NA.has(a)||ld(a,!1,e),ld(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[oc]||(i[oc]=!0,ld("selectionchange",!1,i))}}function Xy(e,i,a,o){switch(v_(i)){case 2:var h=rS;break;case 8:h=sS;break;default:h=Sd}a=h.bind(null,i,a,e),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function cd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=yi(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=f=v;continue t}E=E.parentNode}}o=o.return}uu(function(){var x=f,j=En(a),K=[];t:{var z=Og.get(e);if(z!==void 0){var B=Ws,gt=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":B=ra;break;case"focusin":gt="focus",B=ea;break;case"focusout":gt="blur",B=ea;break;case"beforeblur":case"afterblur":B=ea;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=yu;break;case wg:case Ig:case Cg:B=na;break;case Dg:B=vu;break;case"scroll":case"scrollend":B=cu;break;case"wheel":B=sa;break;case"copy":case"cut":case"paste":B=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Co;break;case"toggle":case"beforetoggle":B=Tu}var ht=(i&4)!==0,Yt=!ht&&(e==="scroll"||e==="scrollend"),P=ht?z!==null?z+"Capture":null:z;ht=[];for(var O=x,L;O!==null;){var F=O;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||P===null||(F=as(O,P),F!=null&&ht.push(sl(O,F,L))),Yt)break;O=O.return}0<ht.length&&(z=new B(z,gt,null,a,j),K.push({event:z,listeners:ht}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ti&&(gt=a.relatedTarget||a.fromElement)&&(yi(gt)||gt[_n]))break t;if((B||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,B?(gt=a.relatedTarget||a.toElement,B=x,gt=gt?yi(gt):null,gt!==null&&(Yt=c(gt),ht=gt.tag,gt!==Yt||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(B=null,gt=x),B!==gt)){if(ht=An,F="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Co,F="onPointerLeave",P="onPointerEnter",O="pointer"),Yt=B==null?z:Qn(B),L=gt==null?z:Qn(gt),z=new ht(F,O+"leave",B,a,j),z.target=Yt,z.relatedTarget=L,F=null,yi(j)===x&&(ht=new ht(P,O+"enter",gt,a,j),ht.target=L,ht.relatedTarget=Yt,F=ht),Yt=F,B&&gt)e:{for(ht=B,P=gt,O=0,L=ht;L;L=Oa(L))O++;for(L=0,F=P;F;F=Oa(F))L++;for(;0<O-L;)ht=Oa(ht),O--;for(;0<L-O;)P=Oa(P),L--;for(;O--;){if(ht===P||P!==null&&ht===P.alternate)break e;ht=Oa(ht),P=Oa(P)}ht=null}else ht=null;B!==null&&$y(K,z,B,ht,!1),gt!==null&&Yt!==null&&$y(K,Yt,gt,ht,!0)}}t:{if(z=x?Qn(x):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var st=gg;else if(Se(z))if(pg)st=G0;else{st=H0;var bt=q0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?x&&To(x.elementType)&&(st=gg):st=j0;if(st&&(st=st(e,x))){wi(K,st,a,j);break t}bt&&bt(e,z,x),e==="focusout"&&x&&z.type==="number"&&x.memoizedProps.value!=null&&tr(z,"number",z.value)}switch(bt=x?Qn(x):window,e){case"focusin":(Se(bt)||bt.contentEditable==="true")&&(aa=bt,Bh=x,No=null);break;case"focusout":No=Bh=aa=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Rg(K,a,j);break;case"selectionchange":if(Q0)break;case"keydown":case"keyup":Rg(K,a,j)}var at;if(Jn)t:{switch(e){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Nt?q(e,a)&&(ft="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(y&&a.locale!=="ko"&&(Nt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Nt&&(at=So()):(Xn=j,er="value"in Xn?Xn.value:Xn.textContent,Nt=!0)),bt=lc(x,ft),0<bt.length&&(ft=new wo(ft,e,null,a,j),K.push({event:ft,listeners:bt}),at?ft.data=at:(at=J(a),at!==null&&(ft.data=at)))),(at=m?Ae(e,a):Vt(e,a))&&(ft=lc(x,"onBeforeInput"),0<ft.length&&(bt=new wo("onBeforeInput","beforeinput",null,a,j),K.push({event:bt,listeners:ft}),bt.data=at)),CA(K,e,x,a,j)}Yy(K,i)})}function sl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function lc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=as(e,a),h!=null&&o.unshift(sl(e,h,f)),h=as(e,i),h!=null&&o.push(sl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Oa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $y(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,R=E.alternate,x=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||x===null||(R=x,h?(x=as(a,f),x!=null&&v.unshift(sl(a,x,R))):h||(x=as(a,f),x!=null&&v.push(sl(a,x,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var VA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(VA,`
`).replace(MA,"")}function Wy(e,i){return i=Zy(i),Zy(e)===i}function uc(){}function Kt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&vn(e,""+o);break;case"className":Kn(e,"class",o);break;case"tabIndex":Kn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(e,a,o);break;case"style":Eo(e,o,f);break;case"data":if(i!=="object"){Kn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Zs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Kt(e,i,"name",h.name,h,null),Kt(e,i,"formEncType",h.formEncType,h,null),Kt(e,i,"formMethod",h.formMethod,h,null),Kt(e,i,"formTarget",h.formTarget,h,null)):(Kt(e,i,"encType",h.encType,h,null),Kt(e,i,"method",h.method,h,null),Kt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Zs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=uc);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Zs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),Ji(e,"popover",o);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ji(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mh.get(a)||a,Ji(e,a,o))}}function hd(e,i,a,o,h,f){switch(a){case"style":Eo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ji(e,a,o)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,f,v,a,null)}}h&&Kt(e,i,"srcSet",a.srcSet,a,null),o&&Kt(e,i,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=v=h=null,R=null,x=null;for(o in a)if(a.hasOwnProperty(o)){var j=a[o];if(j!=null)switch(o){case"name":h=j;break;case"type":v=j;break;case"checked":R=j;break;case"defaultChecked":x=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Kt(e,i,o,j,a,null)}}is(e,f,E,R,x,v,h,!1),$s(e);return;case"select":It("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Kt(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?Ei(e,!!o,i,!1):a!=null&&Ei(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(e,i,v,E,a,null)}rs(e,o,h,f),$s(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Kt(e,i,R,o,a,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)It(rl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,x,o,a,null)}return;default:if(To(i)){for(j in a)a.hasOwnProperty(j)&&(o=a[j],o!==void 0&&hd(e,i,j,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Kt(e,i,E,o,a,null))}function PA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,R=null,x=null,j=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(B)||Kt(e,i,B,null,o,K)}}for(var z in o){var B=o[z];if(K=a[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":x=B;break;case"defaultChecked":j=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==K&&Kt(e,i,z,B,o,K)}}ln(e,v,E,R,x,j,f,h);return;case"select":B=v=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Kt(e,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Kt(e,i,h,f,o,R)}i=E,a=v,o=B,z!=null?Ei(e,!!a,z,!1):!!o!=!!a&&(i!=null?Ei(e,!!a,i,!0):Ei(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(e,i,v,h,o,f)}Ft(e,z,B);return;case"option":for(var gt in a)if(z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Kt(e,i,gt,null,o,z)}for(R in o)if(z=o[R],B=a[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Kt(e,i,R,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)z=a[ht],a.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Kt(e,i,ht,null,o,z);for(x in o)if(z=o[x],B=a[x],o.hasOwnProperty(x)&&z!==B&&(z!=null||B!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Kt(e,i,x,z,o,B)}return;default:if(To(i)){for(var Yt in a)z=a[Yt],a.hasOwnProperty(Yt)&&z!==void 0&&!o.hasOwnProperty(Yt)&&hd(e,i,Yt,void 0,o,z);for(j in o)z=o[j],B=a[j],!o.hasOwnProperty(j)||z===B||z===void 0&&B===void 0||hd(e,i,j,z,o,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!o.hasOwnProperty(P)&&Kt(e,i,P,null,o,z);for(K in o)z=o[K],B=a[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||Kt(e,i,K,z,o,B)}var fd=null,dd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function md(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gd=null;function kA(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,LA=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch(xA)}:e_;function xA(e){setTimeout(function(){throw e})}function yr(e){return e==="head"}function i_(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&al(v.documentElement),a&2&&al(v.body),a&4)for(a=v.head,al(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Jr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),ml(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);ml(i)}function pd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pd(a),Wi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function zA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Jr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function BA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function qA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var _d=null;function r_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function s_(e,i,a){switch(i=cc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Wi(e)}var Dn=new Map,a_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=tt.d;tt.d={f:HA,r:jA,D:GA,C:FA,L:QA,m:KA,X:XA,S:YA,M:$A};function HA(){var e=zi.f(),i=nc();return e||i}function jA(e){var i=Fn(e);i!==null&&i.tag===5&&i.type==="form"?wp(i):zi.r(e)}var Na=typeof document>"u"?null:document;function o_(e,i,a){var o=Na;if(o&&typeof i=="string"&&i){var h=de(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),a_.has(h)||(a_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),ze(i,"link",e),le(i),o.head.appendChild(i)))}}function GA(e){zi.D(e),o_("dns-prefetch",e,null)}function FA(e,i){zi.C(e,i),o_("preconnect",e,i)}function QA(e,i,a){zi.L(e,i,a);var o=Na;if(o&&e&&i){var h='link[rel="preload"][as="'+de(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+de(a.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var f=h;switch(i){case"style":f=Va(e);break;case"script":f=Ma(e)}Dn.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Dn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(ol(f))||i==="script"&&o.querySelector(ll(f))||(i=o.createElement("link"),ze(i,"link",e),le(i),o.head.appendChild(i)))}}function KA(e,i){zi.m(e,i);var a=Na;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!Dn.has(f)&&(e=A({rel:"modulepreload",href:e},i),Dn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(f)))return}o=a.createElement("link"),ze(o,"link",e),le(o),a.head.appendChild(o)}}}function YA(e,i,a){zi.S(e,i,a);var o=Na;if(o&&e){var h=$e(o).hoistableStyles,f=Va(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(ol(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Dn.get(f))&&vd(e,a);var R=v=o.createElement("link");le(R),ze(R,"link",e),R._p=new Promise(function(x,j){R.onload=x,R.onerror=j}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function XA(e,i){zi.X(e,i);var a=Na;if(a&&e){var o=$e(a).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=a.querySelector(ll(h)),f||(e=A({src:e,async:!0},i),(i=Dn.get(h))&&Ed(e,i),f=a.createElement("script"),le(f),ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $A(e,i){zi.M(e,i);var a=Na;if(a&&e){var o=$e(a).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=a.querySelector(ll(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=Dn.get(h))&&Ed(e,i),f=a.createElement("script"),le(f),ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function l_(e,i,a,o){var h=(h=yt.current)?hc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Va(a.href),a=$e(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Va(a.href);var f=$e(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(ol(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),f||ZA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ma(a),a=$e(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Va(e){return'href="'+de(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function u_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ZA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),ze(i,"link",a),le(i),e.head.appendChild(i))}function Ma(e){return'[src="'+de(e)+'"]'}function ll(e){return"script[async]"+e}function c_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+de(a.href)+'"]');if(o)return i.instance=o,le(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),ze(o,"style",h),fc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Va(a.href);var f=e.querySelector(ol(h));if(f)return i.state.loading|=4,i.instance=f,le(f),f;o=u_(a),(h=Dn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),le(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ze(f,"link",o),i.state.loading|=4,fc(f,a.precedence,e),i.instance=f;case"script":return f=Ma(a.src),(h=e.querySelector(ll(f)))?(i.instance=h,le(h),h):(o=a,(h=Dn.get(f))&&(o=A({},a),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),ze(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,fc(o,a.precedence,e));return i.instance}function fc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function vd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var dc=null;function h_(e,i,a){if(dc===null){var o=new Map,h=dc=new Map;h.set(a,o)}else h=dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Jr]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function f_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function WA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function d_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ul=null;function JA(){}function tS(e,i,a){if(ul===null)throw Error(s(475));var o=ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Va(a.href),f=e.querySelector(ol(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=mc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,le(f);return}f=e.ownerDocument||e,a=u_(a),(h=Dn.get(h))&&vd(a,h),f=f.createElement("link"),le(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ze(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=mc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function eS(){if(ul===null)throw Error(s(475));var e=ul;return e.stylesheets&&e.count===0&&Td(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Td(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)Td(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function Td(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,i.forEach(nS,e),gc=null,mc.call(e))}function nS(e,i){if(!(i.state.loading&4)){var a=gc.get(e);if(a)var o=a.get(null);else{a=new Map,gc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var cl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function iS(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function m_(e,i,a,o,h,f,v,E,R,x,j,K){return e=new iS(e,i,a,v,E,R,x,K),i=1,f===!0&&(i|=24),f=cn(3,null,null,i),e.current=f,f.stateNode=e,i=ef(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},af(f),e}function g_(e){return e?(e=ca,e):ca}function p_(e,i,a,o,h,f){h=g_(h),o.context===null?o.context=h:o.pendingContext=h,o=rr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=sr(e,o,i),a!==null&&(gn(a,e,i),Bo(a,e,i))}function y_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Ad(e,i){y_(e,i),(e=e.alternate)&&y_(e,i)}function __(e){if(e.tag===13){var i=ua(e,67108864);i!==null&&gn(i,e,67108864),Ad(e,67108864)}}var pc=!0;function rS(e,i,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,Sd(e,i,a,o)}finally{tt.p=f,H.T=h}}function sS(e,i,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,Sd(e,i,a,o)}finally{tt.p=f,H.T=h}}function Sd(e,i,a,o){if(pc){var h=Rd(o);if(h===null)cd(e,i,o,yc,a),E_(e,o);else if(oS(h,e,i,a,o))o.stopPropagation();else if(E_(e,o),i&4&&-1<aS.indexOf(e)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Mn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-je(v);E.entanglements[1]|=R,v&=~R}si(f),(jt&6)===0&&(tc=yn()+500,il(0))}}break;case 13:E=ua(f,2),E!==null&&gn(E,f,2),nc(),Ad(f,2)}if(f=Rd(o),f===null&&cd(e,i,o,yc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(e,i,o,null,a)}}function Rd(e){return e=En(e),bd(e)}var yc=null;function bd(e){if(yc=null,e=yi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return yc=e,null}function v_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ih()){case oo:return 2;case Hs:return 8;case Yr:case Ch:return 32;case js:return 268435456;default:return 32}default:return 32}}var wd=!1,_r=null,vr=null,Er=null,hl=new Map,fl=new Map,Tr=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(e,i){switch(e){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(i.pointerId)}}function dl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Fn(i),i!==null&&__(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function oS(e,i,a,o,h){switch(i){case"focusin":return _r=dl(_r,e,i,a,o,h),!0;case"dragenter":return vr=dl(vr,e,i,a,o,h),!0;case"mouseover":return Er=dl(Er,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,i,a,o,h)),!0}return!1}function T_(e){var i=yi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,nu(e.priority,function(){if(a.tag===13){var o=mn();o=Xi(o);var h=ua(a,o);h!==null&&gn(h,a,o),Ad(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Rd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ti=o,a.target.dispatchEvent(o),Ti=null}else return i=Fn(a),i!==null&&__(i),e.blockedOn=a,!1;i.shift()}return!0}function A_(e,i,a){_c(e)&&a.delete(i)}function lS(){wd=!1,_r!==null&&_c(_r)&&(_r=null),vr!==null&&_c(vr)&&(vr=null),Er!==null&&_c(Er)&&(Er=null),hl.forEach(A_),fl.forEach(A_)}function vc(e,i){e.blockedOn===i&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lS)))}var Ec=null;function S_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(bd(o||a)===null)continue;break}var f=Fn(a);f!==null&&(e.splice(i,3),i-=3,bf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ml(e){function i(R){return vc(R,e)}_r!==null&&vc(_r,e),vr!==null&&vc(vr,e),Er!==null&&vc(Er,e),hl.forEach(i),fl.forEach(i);for(var a=0;a<Tr.length;a++){var o=Tr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Tr.length&&(a=Tr[0],a.blockedOn===null);)T_(a),a.blockedOn===null&&Tr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[fe]||null;if(typeof f=="function")v||S_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[fe]||null)E=v.formAction;else if(bd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),S_(a)}}}function Id(e){this._internalRoot=e}Tc.prototype.render=Id.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=mn();p_(a,o,e,i,null,null)},Tc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;p_(e.current,2,null,e,null,null),nc(),i[_n]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var i=$i();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Tr.length&&i!==0&&i<Tr[a].priority;a++);Tr.splice(a,0,e),a===0&&T_(e)}};var R_=t.version;if(R_!=="19.1.1")throw Error(s(527,R_,"19.1.1"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var uS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{se=Ac.inject(uS),Ht=Ac}catch{}}return gl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Bp,f=qp,v=Hp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=m_(e,1,!1,null,null,a,o,h,f,v,E,null),e[_n]=i.current,ud(e),new Id(i)},gl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Bp,v=qp,E=Hp,R=null,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(x=a.formState)),i=m_(e,1,!0,i,a??null,o,h,f,v,E,R,x),i.context=g_(null),a=i.current,o=mn(),o=Xi(o),h=rr(o),h.callback=null,sr(a,h,o),a=o,i.current.lanes=a,pi(i,a),si(i),e[_n]=i.current,ud(e),new Tc(i)},gl.version="19.1.1",gl}var V_;function _S(){if(V_)return Cd.exports;V_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=yS(),Cd.exports}var vS=_S();const M_=pE(vS);function qc(r){return r instanceof Function||typeof r=="function"}const ES=["Head","bodyAttributes","htmlAttributes"];function TS(r,t){return r.includes(t)}function P_(r,t){const n=t._configFromHook?.[r],s=t.config[r],l=c=>qc(c)?c(t):c;return TS(ES,r)?[...(s??[]).map(l),...n??[]]:n!==void 0?n:l(s)}var Cr=vm();const zn=pE(Cr);function AS(r,t){const n=globalThis[k_]=globalThis[k_]||{};return n[r]=n[r]||t}const k_="_vike_react",SS=AS("PageContextProvider.ts",{reactContext:zn.createContext(void 0)});function RS({pageContext:r,children:t}){const{reactContext:n}=SS;return zn.createElement(n.Provider,{value:r},t)}function bS(r){const{Page:t,config:{Loading:n}}=r;let s=t?zn.createElement(t,null):null;const l=g=>n?.layout?zn.createElement(Cr.Suspense,{fallback:zn.createElement(n.layout,null)},s):g;s=l(s),[...r.config.Layout||[],...r.config.Wrapper||[]].forEach(g=>{s=zn.createElement(g,null,s),s=l(s)}),s=zn.createElement(RS,{pageContext:r},s);let c,d=new Promise(g=>c=g);return s=zn.createElement(wS,{renderPromiseResolve:c},s),r.config.reactStrictMode!==!1&&(s=zn.createElement(zn.StrictMode,null,s)),{page:s,renderPromise:d}}function wS({children:r,renderPromiseResolve:t}){return Cr.useEffect(t),r}async function U_(r,t){if(!r)return[];const n=r.map(l=>qc(l)?(hS(t),l(t)):l);return await Promise.all(n)}function IS(r,t){r!==void 0&&(document.title=r||""),t!==void 0&&(document.documentElement.lang=t||"en")}function L_(r){return Object.entries(r)}function CS(r){const t={};return(r.config.react??[]).forEach(n=>{const s=qc(n)?n(r):n;s&&L_(s).forEach(([l,c])=>{c&&(t[l]??(t[l]={}),L_(c).forEach(([d,g])=>{var p;if(!qc(g))(p=t[l])[d]??(p[d]=g);else{const _=t[l][d];t[l][d]=(...A)=>{_?.(...A),g(...A)}}}))})}),t}let pl;const J2=async r=>{r._headAlreadySet=r.isHydration,await U_(r.config.onBeforeRenderClient,r);const{page:t,renderPromise:n}=bS(r);r.page=t;const s=document.getElementById("root"),{hydrateRootOptions:l,createRootOptions:c}=CS(r);r.isHydration&&s.innerHTML!==""?pl=M_.hydrateRoot(s,t,l):(pl||(pl=M_.createRoot(s,c)),pl.render(t)),r.root=pl,await n,r.isHydration||(r._headAlreadySet=!0,DS(r)),await U_(r.config.onAfterRenderClient,r)};function DS(r){const t=P_("title",r),n=P_("lang",r);IS(t,n)}var Md={exports:{}},yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function OS(){if(x_)return yl;x_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return yl.Fragment=t,yl.jsx=n,yl.jsxs=n,yl}var z_;function NS(){return z_||(z_=1,Md.exports=OS()),Md.exports}var yE=NS();const VS=()=>{};var B_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},MS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,I=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,G=_&63;p||(G=64,d||(D=64)),s.push(n[A],n[I],n[D],n[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(_E(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):MS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||I==null)throw new PS;const D=c<<2|g>>4;if(s.push(D),_!==64){const G=g<<4&240|_>>2;if(s.push(G),I!==64){const $=_<<6&192|I;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class PS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kS=function(r){const t=_E(r);return vE.encodeByteArray(t,!0)},Hc=function(r){return kS(r).replace(/\./g,"")},EE=function(r){try{return vE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=()=>US().__FIREBASE_DEFAULTS__,xS=()=>{if(typeof process>"u"||typeof B_>"u")return;const r=B_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&EE(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return VS()||LS()||xS()||zS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TE=r=>oh()?.emulatorHosts?.[r],BS=r=>{const t=TE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},AE=()=>oh()?.config,SE=r=>oh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(n)),Hc(JSON.stringify(d)),""].join(".")}const Sl={};function jS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function GS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let q_=!1;function bE(r,t){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||Sl[r]===t||Sl[r]||q_)return;Sl[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=jS().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{q_=!0,d()},D}function A(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=GS(s),G=n("text"),$=document.getElementById(G)||document.createElement("span"),it=n("learnmore"),Z=document.getElementById(it)||document.createElement("a"),Et=n("preprendIcon"),pt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ct=D.element;g(ct),A(Z,it);const qt=_();p(pt,Et),ct.append(pt,$,Z,qt),document.body.appendChild(ct)}c?($.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function QS(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function XS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $S(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZS(){return!QS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="FirebaseError";class Ki extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=t1,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?e1(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ki(l,g,s)}}function e1(r,t){return r.replace(n1,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const n1=/\{\$([^}]+)}/g;function i1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ns(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(H_(c)&&H_(d)){if(!Ns(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function H_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function _l(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function vl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function r1(r,t){const n=new s1(r,t);return n.subscribe.bind(n)}class s1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");a1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r){return r&&r._delegate?r._delegate:r}class Vs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new qS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(u1(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:l1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l1(r){return r===Cs?void 0:r}function u1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new o1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ct||(Ct={}));const h1={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},f1=Ct.INFO,d1={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},m1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=d1[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=f1,this._logHandler=m1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?h1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const g1=(r,t)=>t.some(n=>r instanceof n);let j_,G_;function p1(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y1(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,Kd=new WeakMap,IE=new WeakMap,kd=new WeakMap,Tm=new WeakMap;function _1(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Dr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&wE.set(n,r)}).catch(()=>{}),Tm.set(t,r),t}function v1(r){if(Kd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,t)}let Yd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||IE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function E1(r){Yd=r(Yd)}function T1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Ud(this),t,...n);return IE.set(s,t.sort?t.sort():[t]),Dr(s)}:y1().includes(r)?function(...t){return r.apply(Ud(this),t),Dr(wE.get(this))}:function(...t){return Dr(r.apply(Ud(this),t))}}function A1(r){return typeof r=="function"?T1(r):(r instanceof IDBTransaction&&v1(r),g1(r,p1())?new Proxy(r,Yd):r)}function Dr(r){if(r instanceof IDBRequest)return _1(r);if(kd.has(r))return kd.get(r);const t=A1(r);return t!==r&&(kd.set(r,t),Tm.set(t,r)),t}const Ud=r=>Tm.get(r);function S1(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Dr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Dr(d.result),p.oldVersion,p.newVersion,Dr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const R1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],Ld=new Map;function F_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=b1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||R1.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Ld.set(t,c),c}E1(r=>({...r,get:(t,n,s)=>F_(t,n)||r.get(t,n,s),has:(t,n)=>!!F_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function I1(r){return r.getComponent()?.type==="VERSION"}const Xd="@firebase/app",Q_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Em("@firebase/app"),C1="@firebase/app-compat",D1="@firebase/analytics-compat",O1="@firebase/analytics",N1="@firebase/app-check-compat",V1="@firebase/app-check",M1="@firebase/auth",P1="@firebase/auth-compat",k1="@firebase/database",U1="@firebase/data-connect",L1="@firebase/database-compat",x1="@firebase/functions",z1="@firebase/functions-compat",B1="@firebase/installations",q1="@firebase/installations-compat",H1="@firebase/messaging",j1="@firebase/messaging-compat",G1="@firebase/performance",F1="@firebase/performance-compat",Q1="@firebase/remote-config",K1="@firebase/remote-config-compat",Y1="@firebase/storage",X1="@firebase/storage-compat",$1="@firebase/firestore",Z1="@firebase/ai",W1="@firebase/firestore-compat",J1="firebase",tR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",eR={[Xd]:"fire-core",[C1]:"fire-core-compat",[O1]:"fire-analytics",[D1]:"fire-analytics-compat",[V1]:"fire-app-check",[N1]:"fire-app-check-compat",[M1]:"fire-auth",[P1]:"fire-auth-compat",[k1]:"fire-rtdb",[U1]:"fire-data-connect",[L1]:"fire-rtdb-compat",[x1]:"fire-fn",[z1]:"fire-fn-compat",[B1]:"fire-iid",[q1]:"fire-iid-compat",[H1]:"fire-fcm",[j1]:"fire-fcm-compat",[G1]:"fire-perf",[F1]:"fire-perf-compat",[Q1]:"fire-rc",[K1]:"fire-rc-compat",[Y1]:"fire-gcs",[X1]:"fire-gcs-compat",[$1]:"fire-fst",[W1]:"fire-fst-compat",[Z1]:"fire-vertex","fire-js":"fire-js",[J1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,nR=new Map,Zd=new Map;function K_(r,t){try{r.container.addComponent(t)}catch(n){ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ga(r){const t=r.name;if(Zd.has(t))return ji.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const n of jc.values())K_(n,r);for(const n of nR.values())K_(n,r);return!0}function Am(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function On(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new zl("app","Firebase",iR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=tR;function CE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:$d,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Or.create("bad-app-name",{appName:String(l)});if(n||(n=AE()),!n)throw Or.create("no-options");const c=jc.get(l);if(c){if(Ns(n,c.options)&&Ns(s,c.config))return c;throw Or.create("duplicate-app",{appName:l})}const d=new c1(l);for(const p of Zd.values())d.addComponent(p);const g=new rR(n,s,d);return jc.set(l,g),g}function DE(r=$d){const t=jc.get(r);if(!t&&r===$d&&AE())return CE();if(!t)throw Or.create("no-app",{appName:r});return t}function Nr(r,t,n){let s=eR[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ji.warn(d.join(" "));return}Ga(new Vs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",aR=1,Dl="firebase-heartbeat-store";let xd=null;function OE(){return xd||(xd=S1(sR,aR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Or.create("idb-open",{originalErrorMessage:r.message})})),xd}async function oR(r){try{const n=(await OE()).transaction(Dl),s=await n.objectStore(Dl).get(NE(r));return await n.done,s}catch(t){if(t instanceof Ki)ji.warn(t.message);else{const n=Or.create("idb-get",{originalErrorMessage:t?.message});ji.warn(n.message)}}}async function Y_(r,t){try{const s=(await OE()).transaction(Dl,"readwrite");await s.objectStore(Dl).put(t,NE(r)),await s.done}catch(n){if(n instanceof Ki)ji.warn(n.message);else{const s=Or.create("idb-set",{originalErrorMessage:n?.message});ji.warn(s.message)}}}function NE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1024,uR=30;class cR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>uR){const l=dR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:n,unsentEntries:s}=hR(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ji.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function hR(r,t=lR){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),$_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function $_(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function dR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(r){Ga(new Vs("platform-logger",t=>new w1(t),"PRIVATE")),Ga(new Vs("heartbeat",t=>new cR(t),"PRIVATE")),Nr(Xd,Q_,r),Nr(Xd,Q_,"esm2020"),Nr("fire-js","")}mR("");function VE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gR=VE,ME=new zl("auth","Firebase",VE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Em("@firebase/auth");function pR(r,...t){Gc.logLevel<=Ct.WARN&&Gc.warn(`Auth (${Ja}): ${r}`,...t)}function Nc(r,...t){Gc.logLevel<=Ct.ERROR&&Gc.error(`Auth (${Ja}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(r,...t){throw Rm(r,...t)}function qn(r,...t){return Rm(r,...t)}function Sm(r,t,n){const s={...gR(),[t]:n};return new zl("auth","Firebase",s).create(t,{appName:r.name})}function Vr(r){return Sm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Vn(r,"argument-error"),Sm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ME.create(r,...t)}function dt(r,t,...n){if(!r)throw Rm(t,...n)}function qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function Gi(r,t){r||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(){return typeof self<"u"&&self.location?.href||""}function _R(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_R()||YS()||"connection"in navigator)?navigator.onLine:!0}function ER(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gi(n>t,"Short delay should be less than long delay!"),this.isMobile=FS()||XS()}get(){return vR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(r,t){Gi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SR=new ql(3e4,6e4);function Us(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Hr(r,t,n,s,l={}){return kE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Bl({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:p,...c};return KS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Wa(r.emulatorConfig.host)&&(_.credentials="include"),PE.fetch()(await UE(r,r.config.apiHost,n,g),_)})}async function kE(r,t,n){r._canInitEmulator=!1;const s={...TR,...t};try{const l=new bR(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Sc(r,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Sm(r,A,_);Vn(r,A)}}catch(l){if(l instanceof Ki)throw l;Vn(r,"network-request-failed",{message:String(l)})}}async function lh(r,t,n,s,l={}){const c=await Hr(r,t,n,s,l);return"mfaPendingCredential"in c&&Vn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function UE(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?bm(r.config,l):`${r.config.apiScheme}://${l}`;return AR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function RR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(qn(this.auth,"network-request-failed")),SR.get())})}}function Sc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=qn(r,t,s);return l.customData._tokenResponse=n,l}function W_(r){return r!==void 0&&r.enterprise!==void 0}class wR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return RR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IR(r,t){return Hr(r,"GET","/v2/recaptchaConfig",Us(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(r,t){return Hr(r,"POST","/v1/accounts:delete",t)}async function Fc(r,t){return Hr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DR(r,t=!1){const n=Ee(r),s=await n.getIdToken(t),l=wm(s);dt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Rl(zd(l.auth_time)),issuedAtTime:Rl(zd(l.iat)),expirationTime:Rl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function wm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=EE(n);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function J_(r){const t=wm(r);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ki&&OR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function OR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(r){const t=r.auth,n=await r.getIdToken(),s=await Ol(r,Fc(t,{idToken:n}));dt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?LE(l.providerUserInfo):[],d=MR(r.providerData,c),g=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!d?.length,_=g?p:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function VR(r){const t=Ee(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function MR(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function LE(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(r,t){const n=await kE(r,{},async()=>{const s=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await UE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Wa(r.emulatorConfig.host)&&(p.credentials="include"),PE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kR(r,t){return Hr(r,"POST","/v2/accounts:revokeToken",Us(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const n=J_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await PR(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new xa;return s&&(dt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(dt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,t){dt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new NR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return DR(this,t)}reload(){return VR(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Vr(this.auth));const t=await this.getIdToken();return await Ol(this,CR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,_=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:I,emailVerified:D,isAnonymous:G,providerData:$,stsTokenManager:it}=n;dt(I&&it,t,"internal-error");const Z=xa.fromJSON(this.name,it);dt(typeof I=="string",t,"internal-error"),Sr(s,t.name),Sr(l,t.name),dt(typeof D=="boolean",t,"internal-error"),dt(typeof G=="boolean",t,"internal-error"),Sr(c,t.name),Sr(d,t.name),Sr(g,t.name),Sr(p,t.name),Sr(_,t.name),Sr(A,t.name);const Et=new Bn({uid:I,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:_,lastLoginAt:A});return $&&Array.isArray($)&&(Et.providerData=$.map(pt=>({...pt}))),p&&(Et._redirectEventId=p),Et}static async _fromIdTokenResponse(t,n,s=!1){const l=new xa;l.updateFromServerResponse(n);const c=new Bn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];dt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?LE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new xa;g.updateFromIdToken(s);const p=new Bn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;function Hi(r){Gi(r instanceof Function,"Expected a class definition");let t=tv.get(r);return t?(Gi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,tv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}xE.type="NONE";const ev=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r,t,n){return`firebase:${r}:${t}:${n}`}class za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Fc(this.auth,{idToken:t}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,t):null}return Bn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new za(Hi(ev),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Hi(ev);const d=Vc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const A=await _._get(d);if(A){let I;if(typeof A=="string"){const D=await Fc(t,{idToken:A}).catch(()=>{});if(!D)break;I=await Bn._fromGetAccountInfoResponse(t,D,A)}else I=Bn._fromJSON(t,A);_!==c&&(g=I),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new za(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new za(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GE(t))return"Blackberry";if(FE(t))return"Webos";if(BE(t))return"Safari";if((t.includes("chrome/")||qE(t))&&!t.includes("edge/"))return"Chrome";if(jE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function zE(r=Xe()){return/firefox\//i.test(r)}function BE(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qE(r=Xe()){return/crios\//i.test(r)}function HE(r=Xe()){return/iemobile/i.test(r)}function jE(r=Xe()){return/android/i.test(r)}function GE(r=Xe()){return/blackberry/i.test(r)}function FE(r=Xe()){return/webos/i.test(r)}function Im(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function UR(r=Xe()){return Im(r)&&!!window.navigator?.standalone}function LR(){return $S()&&document.documentMode===10}function QE(r=Xe()){return Im(r)||jE(r)||FE(r)||GE(r)||/windows phone/i.test(r)||HE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r,t=[]){let n;switch(r){case"Browser":n=nv(Xe());break;case"Worker":n=`${nv(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(r,t={}){return Hr(r,"GET","/v2/passwordPolicy",Us(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=6;class qR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new xR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Fc(this,{idToken:t}),s=await Bn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(On(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ER()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(On(this.app))return Promise.reject(Vr(this));const n=t?Ee(t):null;return n&&dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return On(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zR(this),n=new qR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await kR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;dt(n,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&pR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ls(r){return Ee(r)}class iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=r1(n=>this.observer=n)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jR(r){uh=r}function YE(r){return uh.loadJS(r)}function GR(){return uh.recaptchaEnterpriseScript}function FR(){return uh.gapiScript}function QR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class KR{constructor(){this.enterprise=new YR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class YR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const XR="recaptcha-enterprise",XE="NO_RECAPTCHA";class $R{constructor(t){this.type=XR,this.auth=Ls(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{IR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new wR(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;W_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(XE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(g=>{if(!n&&W_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=GR();p.length!==0&&(p+=g),YE(p).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function rv(r,t,n,s=!1,l=!1){const c=new $R(r);let d;if(l)d=XE;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function sv(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await rv(r,t,n,n==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await rv(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r,t){const n=Am(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ns(c,t??{}))return l;Vn(l,"already-initialized")}return n.initialize({options:t})}function WR(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Hi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function JR(r,t,n){const s=Ls(r);dt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=$E(t),{host:d,port:g}=tb(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){dt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),dt(Ns(_,s.config.emulator)&&Ns(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Wa(d)?(RE(`${c}//${d}${p}`),bE("Auth",!0)):eb()}function $E(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function tb(r){const t=$E(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:av(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:av(d)}}}function av(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function eb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,n){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}async function nb(r,t){return Hr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(r,t){return lh(r,"POST","/v1/accounts:signInWithPassword",Us(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(r,t){return lh(r,"POST","/v1/accounts:signInWithEmailLink",Us(r,t))}async function sb(r,t){return lh(r,"POST","/v1/accounts:signInWithEmailLink",Us(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Cm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Nl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Nl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sv(t,n,"signInWithPassword",ib);case"emailLink":return rb(t,{email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sv(t,s,"signUpPassword",nb);case"emailLink":return sb(t,{idToken:n,email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r,t){return lh(r,"POST","/v1/accounts:signInWithIdp",Us(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="http://localhost";class Ms extends Cm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ms(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=n;if(!s||!l)return null;const d=new Ms(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Ba(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ba(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ba(t,n)}buildRequest(){const t={requestUri:ab,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lb(r){const t=_l(vl(r)).link,n=t?_l(vl(t)).deep_link_id:null,s=_l(vl(r)).deep_link_id;return(s?_l(vl(s)).link:null)||s||n||t||r}class Dm{constructor(t){const n=_l(vl(t)),s=n.apiKey??null,l=n.oobCode??null,c=ob(n.mode??null);dt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=lb(t);try{return new Dm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(t,n){return Nl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Dm.parseLink(n);return dt(s,"argument-error"),Nl._fromEmailAndCode(t,s.code,s.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Hl{constructor(){super("facebook.com")}static credential(t){return Ms._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rr.credential(t.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ms._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Bi.credential(n,s)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Hl{constructor(){super("github.com")}static credential(t){return Ms._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return br.credential(t.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Hl{constructor(){super("twitter.com")}static credential(t,n){return Ms._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Bn._fromIdTokenResponse(t,s,l),d=ov(s);return new Fa({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=ov(s);return new Fa({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function ov(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Ki{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Kc(t,n,s,l)}}function ZE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,s):c})}async function ub(r,t,n=!1){const s=await Ol(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Fa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(r,t,n=!1){const{auth:s}=r;if(On(s.app))return Promise.reject(Vr(s));const l="reauthenticate";try{const c=await Ol(r,ZE(s,l,t,r),n);dt(c.idToken,s,"internal-error");const d=wm(c.idToken);dt(d,s,"internal-error");const{sub:g}=d;return dt(r.uid===g,s,"user-mismatch"),Fa._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Vn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(r,t,n=!1){if(On(r.app))return Promise.reject(Vr(r));const s="signIn",l=await ZE(r,s,t),c=await Fa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function hb(r,t){return WE(Ls(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(r){const t=Ls(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function db(r,t,n){return On(r.app)?Promise.reject(Vr(r)):hb(Ee(r),to.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fb(r),s})}function mb(r,t,n,s){return Ee(r).onIdTokenChanged(t,n,s)}function gb(r,t,n){return Ee(r).beforeAuthStateChanged(t,n)}function pb(r,t,n,s){return Ee(r).onAuthStateChanged(t,n,s)}function yb(r){return Ee(r).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=1e3,vb=10;class tT extends JE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);LR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,vb):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},_b)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}tT.type="LOCAL";const Eb=tT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends JE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}eT.type="SESSION";const nT=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new ch(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),p=await Tb(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=Nm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const D=I;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function Sb(r){oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function Rb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bb(){return navigator?.serviceWorker?.controller||null}function wb(){return iT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firebaseLocalStorageDb",Ib=1,Xc="firebaseLocalStorage",sT="fbase_key";class jl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function Cb(){const r=indexedDB.deleteDatabase(rT);return new jl(r).toPromise()}function tm(){const r=indexedDB.open(rT,Ib);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Xc,{keyPath:sT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Xc)?t(s):(s.close(),await Cb(),t(await tm()))})})}async function lv(r,t,n){const s=hh(r,!0).put({[sT]:t,value:n});return new jl(s).toPromise()}async function Db(r,t){const n=hh(r,!1).get(t),s=await new jl(n).toPromise();return s===void 0?null:s.value}function uv(r,t){const n=hh(r,!0).delete(t);return new jl(n).toPromise()}const Ob=800,Nb=3;class aT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Nb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(wb()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rb(),!this.activeServiceWorker)return;this.sender=new Ab(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||bb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await lv(t,Yc,"1"),await uv(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>lv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Db(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>uv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ob)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aT.type="LOCAL";const Vb=aT;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r,t){return t?Hi(t):(dt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends Cm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ba(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Mb(r){return WE(r.auth,new Vm(r),r.bypassAuthState)}function Pb(r){const{auth:t,user:n}=r;return dt(n,t,"internal-error"),cb(n,new Vm(r),r.bypassAuthState)}async function kb(r){const{auth:t,user:n}=r;return dt(n,t,"internal-error"),ub(n,new Vm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Mb;case"linkViaPopup":case"linkViaRedirect":return kb;case"reauthViaPopup":case"reauthViaRedirect":return Pb;default:Vn(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new ql(2e3,1e4);async function Lb(r,t,n){if(On(r.app))return Promise.reject(qn(r,"operation-not-supported-in-this-environment"));const s=Ls(r);yR(r,t,Om);const l=oT(s,n);return new Ds(s,"signInViaPopup",t,l).executeNotNull()}class Ds extends lT{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ub.get())};t()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="pendingRedirect",Mc=new Map;class zb extends lT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const s=await Bb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bb(r,t){const n=jb(t),s=Hb(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function qb(r,t){Mc.set(r._key(),t)}function Hb(r){return Hi(r._redirectPersistence)}function jb(r){return Vc(xb,r.config.apiKey,r.name)}async function Gb(r,t,n=!1){if(On(r.app))return Promise.reject(Vr(r));const s=Ls(r),l=oT(s,t),d=await new zb(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=600*1e3;class Qb{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Kb(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!uT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Fb&&this.cachedEventUids.clear(),this.cachedEventUids.has(cv(t))}saveEventToCache(t){this.cachedEventUids.add(cv(t)),this.lastProcessedEventTime=Date.now()}}function cv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function uT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Kb(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(r,t={}){return Hr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$b=/^https?/;async function Zb(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Yb(r);for(const n of t)try{if(Wb(n))return}catch{}Vn(r,"unauthorized-domain")}function Wb(r){const t=Wd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!$b.test(n))return!1;if(Xb.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new ql(3e4,6e4);function hv(){const r=oi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function tw(r){return new Promise((t,n)=>{function s(){hv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hv(),n(qn(r,"network-request-failed"))},timeout:Jb.get()})}if(oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(oi().gapi?.load)s();else{const l=QR("iframefcb");return oi()[l]=()=>{gapi.load?s():n(qn(r,"network-request-failed"))},YE(`${FR()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function ew(r){return Pc=Pc||tw(r),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new ql(5e3,15e3),iw="__/auth/iframe",rw="emulator/auth/iframe",sw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ow(r){const t=r.config;dt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?bm(t,rw):`https://${r.config.authDomain}/${iw}`,s={apiKey:t.apiKey,appName:r.name,v:Ja},l=aw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Bl(s).slice(1)}`}async function lw(r){const t=await ew(r),n=oi().gapi;return dt(n,r,"internal-error"),t.open({where:document.body,url:ow(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sw,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=qn(r,"network-request-failed"),g=oi().setTimeout(()=>{c(d)},nw.get());function p(){oi().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cw=500,hw=600,fw="_blank",dw="http://localhost";class fv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mw(r,t,n,s=cw,l=hw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...uw,width:s.toString(),height:l.toString(),top:c,left:d},_=Xe().toLowerCase();n&&(g=qE(_)?fw:n),zE(_)&&(t=t||dw,p.scrollbars="yes");const A=Object.entries(p).reduce((D,[G,$])=>`${D}${G}=${$},`,"");if(UR(_)&&g!=="_self")return gw(t||"",g),new fv(null);const I=window.open(t||"",g,A);dt(I,r,"popup-blocked");try{I.focus()}catch{}return new fv(I)}function gw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="__/auth/handler",yw="emulator/auth/handler",_w=encodeURIComponent("fac");async function dv(r,t,n,s,l,c){dt(r.config.authDomain,r,"auth-domain-config-required"),dt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ja,eventId:l};if(t instanceof Om){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",i1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof Hl){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),_=p?`#${_w}=${encodeURIComponent(p)}`:"";return`${vw(r)}?${Bl(g).slice(1)}${_}`}function vw({config:r}){return r.emulator?bm(r,yw):`https://${r.authDomain}/${pw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class Ew{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nT,this._completeRedirectFn=Gb,this._overrideRedirectResult=qb}async _openPopup(t,n,s,l){Gi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await dv(t,n,s,Wd(),l);return mw(t,c,Nm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await dv(t,n,s,Wd(),l);return Sb(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Gi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await lw(t),s=new Qb(t);return n.register("authEvent",l=>(dt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&n(!!c),Vn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zb(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return QE()||BE()||Im()}}const Tw=Ew;var mv="@firebase/auth",gv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rw(r){Ga(new Vs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KE(r)},_=new HR(s,l,c,p);return WR(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ga(new Vs("auth-internal",t=>{const n=Ls(t.getProvider("auth").getImmediate());return(s=>new Aw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(mv,gv,Sw(r)),Nr(mv,gv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=300,ww=SE("authIdTokenMaxAge")||bw;let pv=null;const Iw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ww)return;const l=n?.token;pv!==l&&(pv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Cw(r=DE()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const n=ZR(r,{popupRedirectResolver:Tw,persistence:[Vb,Eb,nT]}),s=SE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=Iw(c.toString());gb(n,d,()=>d(n.currentUser)),mb(n,g=>d(g))}}const l=TE("auth");return l&&JR(n,`http://${l}`),n}function Dw(){return document.getElementsByTagName("head")?.[0]??document}jR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=qn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",Dw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rw("Browser");var Ow="firebase",Nw="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(Ow,Nw,"app");var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,cT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function w(){}w.prototype=S.prototype,M.D=S.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(N,V,k){for(var b=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)b[Pe-2]=arguments[Pe];return S.prototype[V].apply(N,b)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)N[V]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(V=0;16>V;++V)N[V]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=M.g[0],w=M.g[1],V=M.g[2];var k=M.g[3],b=S+(k^w&(V^k))+N[0]+3614090360&4294967295;S=w+(b<<7&4294967295|b>>>25),b=k+(V^S&(w^V))+N[1]+3905402710&4294967295,k=S+(b<<12&4294967295|b>>>20),b=V+(w^k&(S^w))+N[2]+606105819&4294967295,V=k+(b<<17&4294967295|b>>>15),b=w+(S^V&(k^S))+N[3]+3250441966&4294967295,w=V+(b<<22&4294967295|b>>>10),b=S+(k^w&(V^k))+N[4]+4118548399&4294967295,S=w+(b<<7&4294967295|b>>>25),b=k+(V^S&(w^V))+N[5]+1200080426&4294967295,k=S+(b<<12&4294967295|b>>>20),b=V+(w^k&(S^w))+N[6]+2821735955&4294967295,V=k+(b<<17&4294967295|b>>>15),b=w+(S^V&(k^S))+N[7]+4249261313&4294967295,w=V+(b<<22&4294967295|b>>>10),b=S+(k^w&(V^k))+N[8]+1770035416&4294967295,S=w+(b<<7&4294967295|b>>>25),b=k+(V^S&(w^V))+N[9]+2336552879&4294967295,k=S+(b<<12&4294967295|b>>>20),b=V+(w^k&(S^w))+N[10]+4294925233&4294967295,V=k+(b<<17&4294967295|b>>>15),b=w+(S^V&(k^S))+N[11]+2304563134&4294967295,w=V+(b<<22&4294967295|b>>>10),b=S+(k^w&(V^k))+N[12]+1804603682&4294967295,S=w+(b<<7&4294967295|b>>>25),b=k+(V^S&(w^V))+N[13]+4254626195&4294967295,k=S+(b<<12&4294967295|b>>>20),b=V+(w^k&(S^w))+N[14]+2792965006&4294967295,V=k+(b<<17&4294967295|b>>>15),b=w+(S^V&(k^S))+N[15]+1236535329&4294967295,w=V+(b<<22&4294967295|b>>>10),b=S+(V^k&(w^V))+N[1]+4129170786&4294967295,S=w+(b<<5&4294967295|b>>>27),b=k+(w^V&(S^w))+N[6]+3225465664&4294967295,k=S+(b<<9&4294967295|b>>>23),b=V+(S^w&(k^S))+N[11]+643717713&4294967295,V=k+(b<<14&4294967295|b>>>18),b=w+(k^S&(V^k))+N[0]+3921069994&4294967295,w=V+(b<<20&4294967295|b>>>12),b=S+(V^k&(w^V))+N[5]+3593408605&4294967295,S=w+(b<<5&4294967295|b>>>27),b=k+(w^V&(S^w))+N[10]+38016083&4294967295,k=S+(b<<9&4294967295|b>>>23),b=V+(S^w&(k^S))+N[15]+3634488961&4294967295,V=k+(b<<14&4294967295|b>>>18),b=w+(k^S&(V^k))+N[4]+3889429448&4294967295,w=V+(b<<20&4294967295|b>>>12),b=S+(V^k&(w^V))+N[9]+568446438&4294967295,S=w+(b<<5&4294967295|b>>>27),b=k+(w^V&(S^w))+N[14]+3275163606&4294967295,k=S+(b<<9&4294967295|b>>>23),b=V+(S^w&(k^S))+N[3]+4107603335&4294967295,V=k+(b<<14&4294967295|b>>>18),b=w+(k^S&(V^k))+N[8]+1163531501&4294967295,w=V+(b<<20&4294967295|b>>>12),b=S+(V^k&(w^V))+N[13]+2850285829&4294967295,S=w+(b<<5&4294967295|b>>>27),b=k+(w^V&(S^w))+N[2]+4243563512&4294967295,k=S+(b<<9&4294967295|b>>>23),b=V+(S^w&(k^S))+N[7]+1735328473&4294967295,V=k+(b<<14&4294967295|b>>>18),b=w+(k^S&(V^k))+N[12]+2368359562&4294967295,w=V+(b<<20&4294967295|b>>>12),b=S+(w^V^k)+N[5]+4294588738&4294967295,S=w+(b<<4&4294967295|b>>>28),b=k+(S^w^V)+N[8]+2272392833&4294967295,k=S+(b<<11&4294967295|b>>>21),b=V+(k^S^w)+N[11]+1839030562&4294967295,V=k+(b<<16&4294967295|b>>>16),b=w+(V^k^S)+N[14]+4259657740&4294967295,w=V+(b<<23&4294967295|b>>>9),b=S+(w^V^k)+N[1]+2763975236&4294967295,S=w+(b<<4&4294967295|b>>>28),b=k+(S^w^V)+N[4]+1272893353&4294967295,k=S+(b<<11&4294967295|b>>>21),b=V+(k^S^w)+N[7]+4139469664&4294967295,V=k+(b<<16&4294967295|b>>>16),b=w+(V^k^S)+N[10]+3200236656&4294967295,w=V+(b<<23&4294967295|b>>>9),b=S+(w^V^k)+N[13]+681279174&4294967295,S=w+(b<<4&4294967295|b>>>28),b=k+(S^w^V)+N[0]+3936430074&4294967295,k=S+(b<<11&4294967295|b>>>21),b=V+(k^S^w)+N[3]+3572445317&4294967295,V=k+(b<<16&4294967295|b>>>16),b=w+(V^k^S)+N[6]+76029189&4294967295,w=V+(b<<23&4294967295|b>>>9),b=S+(w^V^k)+N[9]+3654602809&4294967295,S=w+(b<<4&4294967295|b>>>28),b=k+(S^w^V)+N[12]+3873151461&4294967295,k=S+(b<<11&4294967295|b>>>21),b=V+(k^S^w)+N[15]+530742520&4294967295,V=k+(b<<16&4294967295|b>>>16),b=w+(V^k^S)+N[2]+3299628645&4294967295,w=V+(b<<23&4294967295|b>>>9),b=S+(V^(w|~k))+N[0]+4096336452&4294967295,S=w+(b<<6&4294967295|b>>>26),b=k+(w^(S|~V))+N[7]+1126891415&4294967295,k=S+(b<<10&4294967295|b>>>22),b=V+(S^(k|~w))+N[14]+2878612391&4294967295,V=k+(b<<15&4294967295|b>>>17),b=w+(k^(V|~S))+N[5]+4237533241&4294967295,w=V+(b<<21&4294967295|b>>>11),b=S+(V^(w|~k))+N[12]+1700485571&4294967295,S=w+(b<<6&4294967295|b>>>26),b=k+(w^(S|~V))+N[3]+2399980690&4294967295,k=S+(b<<10&4294967295|b>>>22),b=V+(S^(k|~w))+N[10]+4293915773&4294967295,V=k+(b<<15&4294967295|b>>>17),b=w+(k^(V|~S))+N[1]+2240044497&4294967295,w=V+(b<<21&4294967295|b>>>11),b=S+(V^(w|~k))+N[8]+1873313359&4294967295,S=w+(b<<6&4294967295|b>>>26),b=k+(w^(S|~V))+N[15]+4264355552&4294967295,k=S+(b<<10&4294967295|b>>>22),b=V+(S^(k|~w))+N[6]+2734768916&4294967295,V=k+(b<<15&4294967295|b>>>17),b=w+(k^(V|~S))+N[13]+1309151649&4294967295,w=V+(b<<21&4294967295|b>>>11),b=S+(V^(w|~k))+N[4]+4149444226&4294967295,S=w+(b<<6&4294967295|b>>>26),b=k+(w^(S|~V))+N[11]+3174756917&4294967295,k=S+(b<<10&4294967295|b>>>22),b=V+(S^(k|~w))+N[2]+718787259&4294967295,V=k+(b<<15&4294967295|b>>>17),b=w+(k^(V|~S))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(V+(b<<21&4294967295|b>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+k&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var w=S-this.blockSize,N=this.B,V=this.h,k=0;k<S;){if(V==0)for(;k<=w;)l(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<S;)if(N[V++]=M.charCodeAt(k++),V==this.blockSize){l(this,N),V=0;break}}else for(;k<S;)if(N[V++]=M[k++],V==this.blockSize){l(this,N),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var w=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=w&255,w/=256;for(this.u(M),M=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)M[w++]=this.g[S]>>>N&255;return M};function c(M,S){var w=g;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=S(M)}function d(M,S){this.h=S;for(var w=[],N=!0,V=M.length-1;0<=V;V--){var k=M[V]|0;N&&k==S||(w[V]=k,N=!1)}this.g=w}var g={};function p(M){return-128<=M&&128>M?c(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return Z(_(-M));for(var S=[],w=1,N=0;M>=w;N++)S[N]=M/w|0,w*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return Z(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),N=I,V=0;V<M.length;V+=8){var k=Math.min(8,M.length-V),b=parseInt(M.substring(V,V+k),S);8>k?(k=_(Math.pow(S,k)),N=N.j(k).add(_(b))):(N=N.j(w),N=N.add(_(b)))}return N}var I=p(0),D=p(1),G=p(16777216);r=d.prototype,r.m=function(){if(it(this))return-Z(this).m();for(var M=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);M+=(0<=N?N:4294967296+N)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(it(this))return"-"+Z(this).toString(M);for(var S=_(Math.pow(M,6)),w=this,N="";;){var V=qt(w,S).g;w=Et(w,V.j(S));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=V,$(w))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function it(M){return M.h==-1}r.l=function(M){return M=Et(this,M),it(M)?-1:$(M)?0:1};function Z(M){for(var S=M.g.length,w=[],N=0;N<S;N++)w[N]=~M.g[N];return new d(w,~M.h).add(D)}r.abs=function(){return it(this)?Z(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0,V=0;V<=S;V++){var k=N+(this.i(V)&65535)+(M.i(V)&65535),b=(k>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);N=b>>>16,k&=65535,b&=65535,w[V]=b<<16|k}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Et(M,S){return M.add(Z(S))}r.j=function(M){if($(this)||$(M))return I;if(it(this))return it(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(it(M))return Z(this.j(Z(M)));if(0>this.l(G)&&0>M.l(G))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<M.g.length;V++){var k=this.i(N)>>>16,b=this.i(N)&65535,Pe=M.i(V)>>>16,re=M.i(V)&65535;w[2*N+2*V]+=b*re,pt(w,2*N+2*V),w[2*N+2*V+1]+=k*re,pt(w,2*N+2*V+1),w[2*N+2*V+1]+=b*Pe,pt(w,2*N+2*V+1),w[2*N+2*V+2]+=k*Pe,pt(w,2*N+2*V+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function pt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ct(M,S){this.g=M,this.h=S}function qt(M,S){if($(S))throw Error("division by zero");if($(M))return new ct(I,I);if(it(M))return S=qt(Z(M),S),new ct(Z(S.g),Z(S.h));if(it(S))return S=qt(M,Z(S)),new ct(Z(S.g),S.h);if(30<M.g.length){if(it(M)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=D,N=S;0>=N.l(M);)w=Tt(w),N=Tt(N);var V=xt(w,1),k=xt(N,1);for(N=xt(N,2),w=xt(w,2);!$(N);){var b=k.add(N);0>=b.l(M)&&(V=V.add(w),k=b),N=xt(N,1),w=xt(w,1)}return S=Et(M,V.j(S)),new ct(V,S)}for(V=I;0<=M.l(S);){for(w=Math.max(1,Math.floor(M.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=_(w),b=k.j(S);it(b)||0<b.l(M);)w-=N,k=_(w),b=k.j(S);$(k)&&(k=D),V=V.add(k),M=Et(M,b)}return new ct(V,M)}r.A=function(M){return qt(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&M.i(N);return new d(w,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|M.i(N);return new d(w,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^M.i(N);return new d(w,this.h^M.h)};function Tt(M){for(var S=M.g.length+1,w=[],N=0;N<S;N++)w[N]=M.i(N)<<1|M.i(N-1)>>>31;return new d(w,M.h)}function xt(M,S){var w=S>>5;S%=32;for(var N=M.g.length-w,V=[],k=0;k<N;k++)V[k]=0<S?M.i(k+w)>>>S|M.i(k+w+1)<<32-S:M.i(k+w);return new d(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Mr=d}).apply(typeof yv<"u"?yv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hT,El,fT,kc,em,dT,mT,gT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function D(u,m,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,D.apply(null,arguments)}function G(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var J=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)J[Nt-2]=arguments[Nt];return m.prototype[U].apply(T,J)}}function it(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let J=0;J<q;J++)u[U+J]=T[J]}else u.push(T)}}class Et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function qt(u){return qt[" "](u),u}qt[" "]=function(){};var Tt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function xt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let q=0;q<w.length;q++)y=w[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function k(u){g.setTimeout(()=>{throw u},0)}function b(){var u=Ut;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Pe{constructor(){this.h=this.g=null}add(m,y){const T=re.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new Et(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ot=!1,Ut=new Pe,C=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(X)}};var X=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(y){k(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ut=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u})();function Rt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Tt){t:{try{qt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,W);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),$t=0;function jn(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++$t,this.da=this.fa=!1}function Yi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mi(u){this.src=u,this.g={},this.h=0}mi.prototype.add=function(u,m,y,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var J=Qr(u,m,T,U);return-1<J?(m=u[J],y||(m.fa=!1)):(m=new jn(m,this.src,q,!!T,U),m.fa=y,u.push(m)),m};function Fr(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(Yi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Qr(u,m,y,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return U}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),ao={};function Jl(u,m,y,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Jl(u,m[q],y,T,U);return null}return y=tu(y),u&&u[Ie]?u.K(m,y,_(T)?!!T.capture:!1,U):yn(u,m,y,!1,T,U)}function yn(u,m,y,T,U,q){if(!m)throw Error("Invalid event type");var J=_(U)?!!U.capture:!!U,Nt=js(u);if(Nt||(u[Kr]=Nt=new mi(u)),y=Nt.add(m,y,T,J,q),y.proxy)return y;if(T=Ih(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ut||(U=J),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Yr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ih(){function u(y){return m.call(u.src,u.listener,y)}const m=Ch;return u}function oo(u,m,y,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)oo(u,m[q],y,T,U);else T=_(T)?!!T.capture:!!T,y=tu(y),u&&u[Ie]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Qr(q,y,T,U),-1<y&&(Yi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=js(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Qr(m,y,T,U)),(y=-1<u?m[u]:null)&&Hs(y))}function Hs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])Fr(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Yr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=js(m))?(Fr(y,u),y.h==0&&(y.src=null,m[Kr]=null)):Yi(u)}}}function Yr(u){return u in ao?ao[u]:ao[u]="on"+u}function Ch(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Hs(u),u=y.call(T,m)}return u}function js(u){return u=u[Kr],u instanceof mi?u:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(u){return typeof u=="function"?u:(u[lo]||(u[lo]=function(m){return u.handleEvent(m)}),u[lo])}function se(){et.call(this),this.i=new mi(this),this.M=this,this.F=null}$(se,et),se.prototype[Ie]=!0,se.prototype.removeEventListener=function(u,m,y,T){oo(this,u,m,y,T)};function Ht(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var U=m;m=new W(T,u),N(m,U)}if(U=!0,y)for(var q=y.length-1;0<=q;q--){var J=m.g=y[q];U=on(J,T,!0,m)&&U}if(J=m.g=u,U=on(J,T,!0,m)&&U,U=on(J,T,!1,m)&&U,y)for(q=0;q<y.length;q++)J=m.g=y[q],U=on(J,T,!1,m)&&U}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Yi(y[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},se.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function on(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var J=m[q];if(J&&!J.da&&J.capture==y){var Nt=J.listener,Ae=J.ha||J.src;J.fa&&Fr(u.i,J),U=Nt.call(Ae,T)!==!1&&U}}return U&&!T.defaultPrevented}function je(u,m,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function eu(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,eu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dh extends et{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){et.call(this),this.h=u,this.g={}}$(Xr,et);var $r=[];function Zr(u){xt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Hs(m)},u),u.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Zr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=g.JSON.stringify,Gs=g.JSON.parse,Wr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function uo(){}uo.prototype.h=null;function co(u){return u.h||(u.h=u.i())}function ho(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){W.call(this,"d")}$(pi,W);function fo(){W.call(this,"c")}$(fo,W);var Gn={},mo=null;function Xi(){return mo=mo||new se}Gn.La="serverreachability";function Fs(u){W.call(this,Gn.La,u)}$(Fs,W);function $i(u){const m=Xi();Ht(m,new Fs(m))}Gn.STAT_EVENT="statevent";function nu(u,m){W.call(this,Gn.STAT_EVENT,u),this.stat=m}$(nu,W);function te(u){const m=Xi();Ht(m,new nu(m,u))}Gn.Ma="timingevent";function Te(u,m){W.call(this,Gn.Ma,u),this.size=m}$(Te,W);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function go(u,m,y,T,U,q){u.info(function(){if(u.g)if(q)for(var J="",Nt=q.split("&"),Ae=0;Ae<Nt.length;Ae++){var Vt=Nt[Ae].split("=");if(1<Vt.length){var De=Vt[0];Vt=Vt[1];var Se=De.split("_");J=2<=Se.length&&Se[1]=="type"?J+(De+"="+Vt+"&"):J+(De+"=redacted&")}}else J=null;else J=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+J})}function Oh(u,m,y,T,U,q,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+J})}function Zi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jr(u,y)+(T?" "+T:"")})}function iu(u,m){u.info(function(){return"TIMEOUT: "+m})}_n.prototype.info=function(){};function Jr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var J=1;J<U.length;J++)U[J]=""}}}}return Mn(y)}catch{return m}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Qn(){}$(Qn,uo),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Fn=new Qn;function $e(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var po={},Qs={};function Pn(u,m,y){u.L=1,u.v=rs(ln(m)),u.m=y,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),ts(u),u.A=ln(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ao(y.i,"t",T),u.C=0,y=u.j.J,u.h=new le,u.g=vu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Dh(D(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&($r[0]=U.toString()),U=$r);for(var q=0;q<U.length;q++){var J=Jl(y,U[q],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),$i(),go(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Se=An(this.g);var m=this.g.Ba();const wi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||Se!=4||m==7||(m==8||0>=wi?$i(3):$i(2)),Ji(this);var y=this.g.Z();this.X=y;e:if(ru(this)){var T=hu(this.g);u="";var U=T.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Kn(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,Oh(this.i,this.u,this.A,this.l,this.R,Se,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,Ae=this.g;if((Nt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Nt)){var Vt=Nt;break e}}Vt=null}if(y=Vt)Zi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,es(this,y);else{this.o=!1,this.s=3,te(12),ke(this),Kn(this);break t}}if(this.P){y=!0;let Ue;for(;!this.J&&this.C<J.length;)if(Ue=su(this,J),Ue==Qs){Se==4&&(this.s=4,te(14),y=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==po){this.s=4,te(15),Zi(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else Zi(this.i,this.l,Ue,null),es(this,Ue);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||J.length!=0||this.h.h||(this.s=1,te(16),y=!1),this.o=this.o&&y,!y)Zi(this.i,this.l,J,"[Invalid Chunked Response]"),ke(this),Kn(this);else if(0<J.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),fs(De),De.M=!0,te(11))}}else Zi(this.i,this.l,J,null),es(this,J);Se==4&&ke(this),this.o&&!this.J&&(Se==4?pu(this.j,this):(this.o=!1,ts(this)))}else kh(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),ke(this),Kn(this)}}}catch{}finally{}};function ru(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function su(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Qs:(y=Number(m.substring(y,T)),isNaN(y)?po:(T+=1,T+y>m.length?Qs:(m=m.slice(T,T+y),u.C=T+y,m)))}$e.prototype.cancel=function(){this.J=!0,ke(this)};function ts(u){u.S=Date.now()+u.I,au(u,u.I)}function au(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(D(u.ba,u),m)}function Ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(iu(this.i,this.A),this.L!=2&&($i(),te(17)),ke(this),this.s=2,Kn(this)):au(this,this.S-u)};function Kn(u){u.j.G==0||u.J||pu(u.j,u)}function ke(u){Ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Zr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function es(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||yo(y.h,u))){if(!u.K&&yo(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ra(y),na(y);else break t;Io(y),te(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(D(y.Za,y),6e3));if(1>=Ys(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else bi(y,11)}else if((u.K||y.g==u)&&ra(y),!pt(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Vt=U[m];if(y.T=Vt[0],Vt=Vt[1],y.G==2)if(Vt[0]=="c"){y.K=Vt[1],y.ia=Vt[2];const De=Vt[3];De!=null&&(y.la=De,y.j.info("VER="+y.la));const Se=Vt[4];Se!=null&&(y.Aa=Se,y.j.info("SVER="+y.Aa));const wi=Vt[5];wi!=null&&typeof wi=="number"&&0<wi&&(T=1.5*wi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Ue=u.g;if(Ue){const ti=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var q=T.h;q.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Xs(q,q.h),q.h=null))}if(T.D){const Do=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(T.ya=Do,Ft(T.I,T.D,Do))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var J=u;if(T.qa=_u(T,T.J?T.ia:null,T.W),J.K){Ze(T.h,J);var Nt=J,Ae=T.L;Ae&&(Nt.I=Ae),Nt.B&&(Ji(Nt),ts(Nt)),T.g=J}else mu(T);0<y.i.length&&ia(y)}else Vt[0]!="stop"&&Vt[0]!="close"||bi(y,7);else y.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?bi(y,7):bo(y):Vt[0]!="noop"&&y.l&&y.l.ta(Vt),y.v=0)}}$i(4)}catch{}}var ou=class{constructor(u,m){this.g=u,this.map=m}};function vi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ys(u){return u.h?1:u.g?u.g.size:0}function yo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xs(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vi.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return it(u.i)}function Nh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function $s(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function vo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=$s(u),T=Nh(u),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],y&&y[q],u)}var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var q=u[y].substring(0,T);U=u[y].substring(T+1)}else q=u[y];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,is(this,u.j),this.o=u.o,this.g=u.g,tr(this,u.s),this.l=u.l;var m=u.i,y=new Ti;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ei(this,y),this.m=u.m}else u&&(m=String(u).match(ns))?(this.h=!1,is(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),tr(this,m[4]),this.l=vn(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ss(m,Eo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ss(m,Eo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ss(y,y.charAt(0)=="/"?Mh:To,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ss(y,Zs)),u.join("")};function ln(u){return new de(u)}function is(u,m,y){u.j=y?vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function tr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ei(u,m,y){m instanceof Ti?(u.i=m,uu(u.i,u.h)):(y||(m=ss(m,Ph)),u.i=new Ti(m,u.h))}function Ft(u,m,y){u.i.set(m,y)}function rs(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,lu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Eo=/[#\/\?@]/g,To=/[#\?:]/g,Mh=/[#\?]/g,Ph=/[#\?@]/g,Zs=/#/g;function Ti(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Vh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ti.prototype,r.add=function(u,m){En(this),this.i=null,u=Yn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ai(u,m){En(u),m=Yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Si(u,m){return En(u),m=Yn(u,m),u.g.has(m)}r.forEach=function(u,m){En(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let q=0;q<U.length;q++)y.push(m[T])}return y},r.V=function(u){En(this);let m=[];if(typeof u=="string")Si(this,u)&&(m=m.concat(this.g.get(Yn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return En(this),this.i=null,u=Yn(this,u),Si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ao(u,m,y){Ai(u,m),0<y.length&&(u.i=null,u.g.set(Yn(u,m),it(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const q=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var U=q;J[T]!==""&&(U+="="+encodeURIComponent(String(J[T]))),u.push(U)}}return this.i=u.join("&")};function Yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function uu(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(Ai(this,T),Ao(this,U,y))},u)),u.j=m}function as(u,m){const y=new _n;if(g.Image){const T=new Image;T.onload=G(Tn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=G(Tn,y,"TestLoadImage: error",!1,m,T),T.onabort=G(Tn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(Tn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function kn(u,m){const y=new _n,T=new AbortController,U=setTimeout(()=>{T.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Tn(y,"TestPingServer: error",!1,m)})}function Tn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function os(){this.g=new Wr}function Xn(u,m,y){const T=y||"";try{vo(u,function(U,q){let J=U;_(U)&&(J=Mn(U)),m.push(T+q+"="+encodeURIComponent(J))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function er(u){this.l=u.Ub||null,this.j=u.eb||!1}$(er,uo),er.prototype.g=function(){return new Ri(this.l,this.j)},er.prototype.i=(function(u){return function(){return u}})({});function Ri(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Ri,se),r=Ri.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Zn(this),this.readyState==3&&So(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ro(u){let m="";return xt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Ce(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Ro(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ft(u,m,y))}function zt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(zt,se);var Ws=/^https?$/i,ls=["POST","PUT"];r=zt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?co(this.o):co(Fn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){cu(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ls,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of y)this.g.setRequestHeader(q,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){cu(this,q)}};function cu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Js(u),Wn(u)}function Js(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),zt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},r.bb=function(){ta(this)};function ta(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)je(u.Ea,0,u);else if(Ht(u,"readystatechange"),An(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=J===0){var U=String(u.D).match(ns)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Ws.test(U?U.toLowerCase():"")}y=T}if(y)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<An(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Js(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){us(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{y.onreadystatechange=T}catch{}}}function us(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Gs(m)}};function hu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function kh(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(pt(u[T]))continue;var y=V(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ea(u){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,u),this.cb=cs("retryDelaySeedMs",1e4,u),this.Wa=cs("forwardChannelMaxRetries",2,u),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(u&&u.concurrentRequestLimit),this.Da=new os,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ea.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){te(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),ia(this)};function bo(u){if(fu(u),u.G==3){var m=u.U++,y=ln(u.I);if(Ft(y,"SID",u.K),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),hs(u,y),m=new $e(u,u.j,m),m.L=2,m.v=rs(ln(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ts(m)}yu(u)}function na(u){u.g&&(fs(u),u.g.cancel(),u.g=null)}function fu(u){na(u),u.u&&(g.clearTimeout(u.u),u.u=null),ra(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ia(u){if(!Ks(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||C(),ot||(tt(),ot=!0),Ut.add(m,u),u.B=0}}function Uh(u,m){return Ys(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(D(u.Ga,u,m),Co(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new $e(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=du(this,U,m),y=ln(this.I),Ft(y,"RID",u),Ft(y,"CVER",22),this.D&&Ft(y,"X-HTTP-Session-Id",this.D),hs(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(Ro(q)))+"&"+m:this.m&&Ce(y,this.m,q)),Xs(this.h,U),this.Ua&&Ft(y,"TYPE","init"),this.P?(Ft(y,"$req",m),Ft(y,"SID","null"),U.T=!0,Pn(U,y,null)):Pn(U,y,m),this.G=2}}else this.G==3&&(u?wo(this,u):this.i.length==0||Ks(this.h)||wo(this))};function wo(u,m){var y;m?y=m.l:y=u.U++;const T=ln(u.I);Ft(T,"SID",u.K),Ft(T,"RID",y),Ft(T,"AID",u.T),hs(u,T),u.m&&u.o&&Ce(T,u.m,u.o),y=new $e(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=du(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xs(u.h,y),Pn(y,T,m)}function hs(u,m){u.H&&xt(u.H,function(y,T){Ft(m,T,y)}),u.l&&vo({},function(y,T){Ft(m,T,y)})}function du(u,m,y){y=Math.min(u.i.length,y);var T=u.l?D(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const J=["count="+y];q==-1?0<y?(q=U[0].g,J.push("ofs="+q)):q=0:J.push("ofs="+q);let Nt=!0;for(let Ae=0;Ae<y;Ae++){let Vt=U[Ae].g;const De=U[Ae].map;if(Vt-=q,0>Vt)q=Math.max(0,U[Ae].g-100),Nt=!1;else try{Xn(De,J,"req"+Vt+"_")}catch{T&&T(De)}}if(Nt){T=J.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function mu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||C(),ot||(tt(),ot=!0),Ut.add(m,u),u.v=0}}function Io(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(D(u.Fa,u),Co(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),na(this),gu(this))};function fs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function gu(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),hs(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=rs(ln(m)),y.m=null,y.P=!0,_i(y,u)}r.Za=function(){this.C!=null&&(this.C=null,na(this),Io(this),te(19))};function ra(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function pu(u,m){var y=null;if(u.g==m){ra(u),fs(u),u.g=null;var T=2}else if(yo(u.h,m))y=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Xi(),Ht(T,new Te(T,y)),ia(u)}else mu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Uh(u,m)||T==2&&Io(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function Co(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var y=D(u.fb,u),T=u.Xa;const U=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||is(T,"https"),rs(T),U?as(T.toString(),y):kn(T.toString(),y)}else te(2);u.G=0,u.l&&u.l.sa(m),yu(u),fu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function yu(u){if(u.G=0,u.ka=[],u.l){const m=_o(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function _u(u,m,y){var T=y instanceof de?ln(y):new de(y);if(T.g!="")m&&(T.g=m+"."+T.g),tr(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new de(null);T&&is(q,T),m&&(q.g=m),U&&tr(q,U),y&&(q.l=y),T=q}return y=u.D,m=u.ya,y&&m&&Ft(T,y,m),Ft(T,"VER",u.la),hs(u,T),T}function vu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new zt(new er({eb:y})):new zt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function sa(){}sa.prototype.g=function(u,m){return new We(u,m)};function We(u,m){se.call(this),this.g=new ea(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!pt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}$(We,se),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){bo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Mn(u),u=y);m.i.push(new ou(m.Ya++,u)),m.G==3&&ia(m)},We.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,We.aa.N.call(this)};function Tu(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(Tu,pi);function Au(){fo.call(this),this.status=1}$(Au,fo);function Jn(u){this.g=u}$(Jn,Eu),Jn.prototype.ua=function(){Ht(this.g,"a")},Jn.prototype.ta=function(u){Ht(this.g,new Tu(u))},Jn.prototype.sa=function(u){Ht(this.g,new Au)},Jn.prototype.ra=function(){Ht(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,gT=function(){return new sa},mT=function(){return Xi()},dT=Gn,em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,kc=Wi,yi.COMPLETE="complete",fT=yi,ho.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",se.prototype.listen=se.prototype.K,El=ho,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,hT=zt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const _v="@firebase/firestore",vv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Em("@firebase/firestore");function Pa(){return Ps.logLevel}function rt(r,...t){if(Ps.logLevel<=Ct.DEBUG){const n=t.map(Mm);Ps.debug(`Firestore (${eo}): ${r}`,...n)}}function Fi(r,...t){if(Ps.logLevel<=Ct.ERROR){const n=t.map(Mm);Ps.error(`Firestore (${eo}): ${r}`,...n)}}function Qa(r,...t){if(Ps.logLevel<=Ct.WARN){const n=t.map(Mm);Ps.warn(`Firestore (${eo}): ${r}`,...n)}}function Mm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,pT(r,s,n)}function pT(r,t,n){let s=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Fi(s),new Error(s)}function Bt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||pT(t,l,s)}function vt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Vw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ke.UNAUTHENTICATED)))}shutdown(){}}class Mw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Pw{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Bt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pr)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new yT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class kw{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Uw{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new kw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Bt(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ev(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=xw(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function nm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return qd(l)===qd(c)?Dt(l,c):qd(l)?1:-1}return Dt(r.length,t.length)}const zw=55296,Bw=57343;function qd(r){const t=r.charCodeAt(0);return t>=zw&&t<=Bw}function Ka(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&mt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&mt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ai.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Dt(t.length,n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),l=ai.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ai.extractNumericId(t).compare(ai.extractNumericId(n)):nm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mr.fromString(t.substring(4,t.length-2))}}class Wt extends ai{construct(t,n,s){return new Wt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new nt(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new Wt(n)}static emptyPath(){return new Wt([])}}const qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ai{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return qw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tv}static keyField(){return new qe([Tv])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new nt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new nt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new nt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new nt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Wt.fromString(t))}static fromName(t){return new lt(Wt.fromString(t).popFirst(5))}static empty(){return new lt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(r,t,n){if(!n)throw new nt(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Hw(r,t,n,s){if(t===!0&&s===!0)throw new nt(Q.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Av(r){if(!lt.isDocumentKey(r))throw new nt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Sv(r){if(lt.isDocumentKey(r))throw new nt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function fi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new nt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fh(r);throw new nt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,t){const n={typeString:r};return t&&(n.value=t),n}function Gl(r,t){if(!vT(r))throw new nt(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new nt(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-62135596800,bv=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*bv);return new Jt(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new nt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Rv)throw new nt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:_e("string",Jt._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new Jt(0,0))}static max(){return new _t(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function jw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new Jt(n+1,0):new Jt(n,s));return new Ur(l,lt.empty(),t)}function Gw(r){return new Ur(r.readTime,r.key,Vl)}class Ur{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ur(_t.min(),lt.empty(),Vl)}static max(){return new Ur(_t.max(),lt.empty(),Vl)}}function Fw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=lt.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==Qw)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Y(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Y.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Y.reject(n)}static resolve(t){return new Y(((n,s)=>{n(t)}))}static reject(t){return new Y(((n,s)=>{s(t)}))}static waitFor(t){return new Y(((n,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&n()}),(p=>s(p)))})),d=!0,c===l&&n()}))}static or(t){let n=Y.resolve(!1);for(const s of t)n=n.next((l=>l?Y.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,c)=>{s.push(n.call(this,l,c))})),this.waitFor(s)}static mapArray(t,n){return new Y(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next((A=>{d[_]=A,++g,g===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,n){return new Y(((s,l)=>{const c=()=>{t()===!0?n().next((()=>{c()}),l):s()};c()}))}}function Yw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=-1;function mh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function Xw(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="";function $w(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=wv(t)),t=Zw(r.get(n),t);return wv(t)}function Zw(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case ET:n+="";break;default:n+=c}}return n}function wv(r){return r+ET+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function jr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function TT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new ie(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Be.RED,this.left=l??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Be(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(t){return new Cv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class Cv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new pn([])}unionWith(t){let n=new we(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AT("Invalid base64 string: "+c):c}})(t);return new He(n)}static fromUint8Array(t){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const Ww=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(r){if(Bt(!!r,39018),typeof r=="string"){let t=0;const n=Ww.exec(r);if(Bt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="server_timestamp",RT="__type__",bT="__previous_value__",wT="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[RT]?.stringValue===ST}function gh(r){const t=r.mapValue.fields[bT];return Um(t)?gh(t):t}function Ml(r){const t=Lr(r.mapValue.fields[wT].timestampValue);return new Jt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,n,s,l,c,d,g,p,_,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const Zc="(default)";class Pl{constructor(t,n){this.projectId=t,this.database=n||Zc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="__type__",tI="__max__",wc={mapValue:{}},CT="__vector__",Wc="value";function zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:nI(r)?9007199254740991:eI(r)?10:11:mt(28295,{value:r})}function di(r,t){if(r===t)return!0;const n=zr(r);if(n!==zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ml(r).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Lr(l.timestampValue),g=Lr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return xr(l.bytesValue).isEqual(xr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=he(l.doubleValue),g=he(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Iv(d)!==Iv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!di(d[p],g[p])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((n=>di(n,t)))!==void 0}function Ya(r,t){if(r===t)return 0;const n=zr(r),s=zr(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return Dv(r.timestampValue,t.timestampValue);case 4:return Dv(Ml(r),Ml(t));case 5:return nm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=xr(c),p=xr(d);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=Dt(g[_],p[_]);if(A!==0)return A}return Dt(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Dt(he(c.latitude),he(d.latitude));return g!==0?g:Dt(he(c.longitude),he(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Ov(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},p=d.fields||{},_=g[Wc]?.arrayValue,A=p[Wc]?.arrayValue,I=Dt(_?.values?.length||0,A?.values?.length||0);return I!==0?I:Ov(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let I=0;I<p.length&&I<A.length;++I){const D=nm(p[I],A[I]);if(D!==0)return D;const G=Ya(g[p[I]],_[A[I]]);if(G!==0)return G}return Dt(p.length,A.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:n})}}function Dv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=Lr(r),s=Lr(t),l=Dt(n.seconds,s.seconds);return l!==0?l:Dt(n.nanos,s.nanos)}function Ov(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ya(n[l],s[l]);if(c)return c}return Dt(n.length,s.length)}function Xa(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Lr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return xr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return lt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=im(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${im(n.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function Uc(r){switch(zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return jr(s.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function Nv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function rm(r){return!!r&&"integerValue"in r}function Lm(r){return!!r&&"arrayValue"in r}function Vv(r){return!!r&&"nullValue"in r}function Mv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function eI(r){return(r?.mapValue?.fields||{})[IT]?.stringValue===CT}function bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return jr(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=bl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=bl(r.arrayValue.values[n]);return t}return{...r}}function nI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Lc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(n)}setAll(t){let n=qe.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=bl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){jr(n,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new an(bl(this.value))}}function DT(r){const t=[];return jr(r.fields,((n,s)=>{const l=new qe([n]);if(Lc(s)){const c=DT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ye(t,0,_t.min(),_t.min(),_t.min(),an.empty(),0)}static newFoundDocument(t,n,s,l){return new Ye(t,1,n,_t.min(),s,l,0)}static newNoDocument(t,n){return new Ye(t,2,n,_t.min(),_t.min(),an.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,_t.min(),_t.min(),an.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n){this.position=t,this.inclusive=n}}function Pv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=lt.comparator(lt.fromName(d.referenceValue),n.key):s=Ya(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function kv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,n="asc"){this.field=t,this.dir=n}}function iI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{}class ye extends OT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new sI(t,n,s):n==="array-contains"?new lI(t,s):n==="in"?new uI(t,s):n==="not-in"?new cI(t,s):n==="array-contains-any"?new hI(t,s):new ye(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new aI(t,s):new oI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ya(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends OT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Hn(t,n)}matches(t){return NT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NT(r){return r.op==="and"}function VT(r){return rI(r)&&NT(r)}function rI(r){for(const t of r.filters)if(t instanceof Hn)return!1;return!0}function sm(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(VT(r))return r.filters.map((t=>sm(t))).join(",");{const t=r.filters.map((n=>sm(n))).join(",");return`${r.op}(${t})`}}function MT(r,t){return r instanceof ye?(function(s,l){return l instanceof ye&&s.op===l.op&&s.field.isEqual(l.field)&&di(s.value,l.value)})(r,t):r instanceof Hn?(function(s,l){return l instanceof Hn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&MT(d,l.filters[g])),!0):!1})(r,t):void mt(19439)}function PT(r){return r instanceof ye?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xa(n.value)}`})(r):r instanceof Hn?(function(n){return n.op.toString()+" {"+n.getFilters().map(PT).join(" ,")+"}"})(r):"Filter"}class sI extends ye{constructor(t,n,s){super(t,n,s),this.key=lt.fromName(s.referenceValue)}matches(t){const n=lt.comparator(t.key,this.key);return this.matchesComparison(n)}}class aI extends ye{constructor(t,n){super(t,"in",n),this.keys=kT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class oI extends ye{constructor(t,n){super(t,"not-in",n),this.keys=kT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function kT(r,t){return(t.arrayValue?.values||[]).map((n=>lt.fromName(n.referenceValue)))}class lI extends ye{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lm(n)&&kl(n.arrayValue,this.value)}}class uI extends ye{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class cI extends ye{constructor(t,n){super(t,"not-in",n)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kl(this.value.arrayValue,n)}}class hI extends ye{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>kl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Uv(r,t=null,n=[],s=[],l=null,c=null,d=null){return new fI(r,t,n,s,l,c,d)}function xm(r){const t=vt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>sm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),mh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Xa(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Xa(s))).join(",")),t.Te=n}return t.Te}function zm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!iI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!MT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!kv(r.startAt,t.startAt)&&kv(r.endAt,t.endAt)}function am(r){return lt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dI(r,t,n,s,l,c,d,g){return new ro(r,t,n,s,l,c,d,g)}function UT(r){return new ro(r)}function Lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LT(r){return r.collectionGroup!==null}function wl(r){const t=vt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(qe.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ul(c,s))})),n.has(qe.keyField().canonicalString())||t.Ie.push(new Ul(qe.keyField(),s))}return t.Ie}function li(r){const t=vt(r);return t.Ee||(t.Ee=mI(t,wl(r))),t.Ee}function mI(r,t){if(r.limitType==="F")return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ul(l.field,c)}));const n=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function om(r,t){const n=r.filters.concat([t]);return new ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function lm(r,t,n){return new ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function ph(r,t){return zm(li(r),li(t))&&r.limitType===t.limitType}function xT(r){return`${xm(li(r))}|lt:${r.limitType}`}function ka(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>PT(l))).join(", ")}]`),mh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>Xa(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>Xa(l))).join(",")),`Target(${s})`})(li(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):lt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of wl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,p){const _=Pv(d,g,p);return d.inclusive?_<=0:_<0})(s.startAt,wl(s),l)||s.endAt&&!(function(d,g,p){const _=Pv(d,g,p);return d.inclusive?_>=0:_>0})(s.endAt,wl(s),l))})(r,t)}function gI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zT(r){return(t,n)=>{let s=!1;for(const l of wl(r)){const c=pI(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function pI(r,t,n){const s=r.field.isKeyField()?lt.comparator(t.key,n.key):(function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Ya(p,_):mt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){jr(this.inner,((n,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return TT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new ie(lt.comparator);function Qi(){return yI}const BT=new ie(lt.comparator);function Tl(...r){let t=BT;for(const n of r)t=t.insert(n.key,n);return t}function qT(r){let t=BT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Os(){return Il()}function HT(){return Il()}function Il(){return new xs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const _I=new ie(lt.comparator),vI=new we(lt.comparator);function Ot(...r){let t=vI;for(const n of r)t=t.add(n);return t}const EI=new we(Dt);function TI(){return EI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function jT(r){return{integerValue:""+r}}function AI(r,t){return Xw(t)?jT(t):Bm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function SI(r,t,n){return r instanceof th?(function(l,c){const d={fields:{[RT]:{stringValue:ST},[wT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Um(c)&&(c=gh(c)),c&&(d.fields[bT]=c),{mapValue:d}})(n,t):r instanceof Ll?FT(r,t):r instanceof xl?QT(r,t):(function(l,c){const d=GT(l,c),g=xv(d)+xv(l.Ae);return rm(d)&&rm(l.Ae)?jT(g):Bm(l.serializer,g)})(r,t)}function RI(r,t,n){return r instanceof Ll?FT(r,t):r instanceof xl?QT(r,t):n}function GT(r,t){return r instanceof eh?(function(s){return rm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class th extends _h{}class Ll extends _h{constructor(t){super(),this.elements=t}}function FT(r,t){const n=KT(t);for(const s of r.elements)n.some((l=>di(l,s)))||n.push(s);return{arrayValue:{values:n}}}class xl extends _h{constructor(t){super(),this.elements=t}}function QT(r,t){let n=KT(t);for(const s of r.elements)n=n.filter((l=>!di(l,s)));return{arrayValue:{values:n}}}class eh extends _h{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function xv(r){return he(r.integerValue||r.doubleValue)}function KT(r){return Lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Ll&&l instanceof Ll||s instanceof xl&&l instanceof xl?Ka(s.elements,l.elements,di):s instanceof eh&&l instanceof eh?di(s.Ae,l.Ae):s instanceof th&&l instanceof th})(r.transform,t.transform)}class wI{constructor(t,n){this.version=t,this.transformResults=n}}class tn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new tn}static exists(t){return new tn(void 0,t)}static updateTime(t){return new tn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function YT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Eh(r.key,tn.none()):new Fl(r.key,r.data,tn.none());{const n=r.data,s=an.empty();let l=new we(qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Gr(r.key,s,new pn(l.toArray()),tn.none())}}function II(r,t,n){r instanceof Fl?(function(l,c,d){const g=l.value.clone(),p=Bv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,n):r instanceof Gr?(function(l,c,d){if(!xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Bv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(XT(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Cl(r,t,n,s){return r instanceof Fl?(function(c,d,g,p){if(!xc(c.precondition,d))return g;const _=c.value.clone(),A=qv(c.fieldTransforms,p,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,n,s):r instanceof Gr?(function(c,d,g,p){if(!xc(c.precondition,d))return g;const _=qv(c.fieldTransforms,p,d),A=d.data;return A.setAll(XT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((I=>I.field)))})(r,t,n,s):(function(c,d,g){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,n)}function CI(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=GT(s.transform,l||null);c!=null&&(n===null&&(n=an.empty()),n.set(s.field,c))}return n||null}function zv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ka(s,l,((c,d)=>bI(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends vh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends vh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function XT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function Bv(r,t,n){const s=new Map;Bt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,RI(d,g,n[l]))}return s}function qv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,SI(c,d,t))}return s}class Eh extends vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&II(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=HT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=YT(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,((n,s)=>zv(n,s)))&&Ka(this.baseMutations,t.baseMutations,((n,s)=>zv(n,s)))}}class qm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Bt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return _I})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new qm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Pt;function MI(r){switch(r){case Q.OK:return mt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function $T(r){if(r===void 0)return Fi("GRPC error has no .code"),Q.UNKNOWN;switch(r){case pe.OK:return Q.OK;case pe.CANCELLED:return Q.CANCELLED;case pe.UNKNOWN:return Q.UNKNOWN;case pe.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case pe.INTERNAL:return Q.INTERNAL;case pe.UNAVAILABLE:return Q.UNAVAILABLE;case pe.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case pe.NOT_FOUND:return Q.NOT_FOUND;case pe.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case pe.ABORTED:return Q.ABORTED;case pe.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case pe.DATA_LOSS:return Q.DATA_LOSS;default:return mt(39323,{code:r})}}(Pt=pe||(pe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new Mr([4294967295,4294967295],0);function Hv(r){const t=PI().encode(r),n=new cT;return n.update(t),new Uint8Array(n.digest())}function jv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Mr([n,s],0),new Mr([l,c],0)]}class Hm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(s<0)throw new Al(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Mr.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Mr.fromNumber(s)));return l.compare(kI)===1&&(l=new Mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Hv(t),[s,l]=jv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Hm(c,l,n);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const n=Hv(t),[s,l]=jv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Th(_t.min(),l,new ie(Dt),Qi(),Ot())}}class Ql{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ql(s,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class ZT{constructor(t,n){this.targetId=t,this.Ce=n}}class WT{constructor(t,n,s=He.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Gv{constructor(){this.ve=0,this.Fe=Fv(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),n=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:mt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Fv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qi(),this.Je=Ic(),this.He=Ic(),this.Ye=new ie(Dt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const c=l.target;if(am(c))if(s===0){const d=new lt(c.path);this.et(n,d,Ye.newNoDocument(d,_t.min()))}else Bt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(t),p=g?this.ct(g,t,d):1;if(p!==0){this.it(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=xr(s).toUint8Array()}catch(p){if(p instanceof AT)return Qa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Hm(d,l,c)}catch(p){return Qa(p instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const p=new lt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Ye.newNoDocument(p,t))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,n,this.Ye,this.je,s);return this.je=Qi(),this.Je=Ic(),this.He=Ic(),this.Ye=new ie(Dt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Gv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new we(Dt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new we(Dt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Gv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ic(){return new ie(lt.comparator)}function Fv(){return new ie(lt.comparator)}const LI={asc:"ASCENDING",desc:"DESCENDING"},xI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zI={and:"AND",or:"OR"};class BI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function um(r,t){return r.useProto3Json||mh(t)?t:{value:t}}function nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qI(r,t){return nh(r,t.toTimestamp())}function ui(r){return Bt(!!r,49232),_t.fromTimestamp((function(n){const s=Lr(n);return new Jt(s.seconds,s.nanos)})(r))}function jm(r,t){return cm(r,t).canonicalString()}function cm(r,t){const n=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function t0(r){const t=Wt.fromString(r);return Bt(s0(t),10190,{key:t.toString()}),t}function hm(r,t){return jm(r.databaseId,t.path)}function Hd(r,t){const n=t0(t);if(n.get(1)!==r.databaseId.projectId)throw new nt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new nt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new lt(n0(n))}function e0(r,t){return jm(r.databaseId,t)}function HI(r){const t=t0(r);return t.length===4?Wt.emptyPath():n0(t)}function fm(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function n0(r){return Bt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Qv(r,t,n){return{name:hm(r,t),fields:n.value.mapValue.fields}}function jI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?Q.UNKNOWN:$T(_.code);return new nt(A,_.message||"")})(d);n=new WT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Hd(r,s.document.name),c=ui(s.document.updateTime),d=s.document.createTime?ui(s.document.createTime):_t.min(),g=new an({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(l,c,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];n=new zc(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Hd(r,s.document),c=s.readTime?ui(s.readTime):_t.min(),d=Ye.newNoDocument(l,c),g=s.removedTargetIds||[];n=new zc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Hd(r,s.document),c=s.removedTargetIds||[];n=new zc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new VI(l,c),g=s.targetId;n=new ZT(g,d)}}return n}function GI(r,t){let n;if(t instanceof Fl)n={update:Qv(r,t.key,t.value)};else if(t instanceof Eh)n={delete:hm(r,t.key)};else if(t instanceof Gr)n={update:Qv(r,t.key,t.data),updateMask:JI(t.fieldMask)};else{if(!(t instanceof DI))return mt(16599,{Vt:t.type});n={verify:hm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:qI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),n}function FI(r,t){return r&&r.length>0?(Bt(t!==void 0,14353),r.map((n=>(function(l,c){let d=l.updateTime?ui(l.updateTime):ui(c);return d.isEqual(_t.min())&&(d=ui(c)),new wI(d,l.transformResults||[])})(n,t)))):[]}function QI(r,t){return{documents:[e0(r,t.path)]}}function KI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=e0(r,l);const c=(function(_){if(_.length!==0)return r0(Hn.create(_,"and"))})(t.filters);c&&(n.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(D){return{field:Ua(D.field),direction:$I(D.dir)}})(A)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=um(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:l}}function YI(r){let t=HI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Bt(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=(function(I){const D=i0(I);return D instanceof Hn&&VT(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(I){return I.map((D=>(function($){return new Ul(La($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(D)))})(n.orderBy));let g=null;n.limit&&(g=(function(I){let D;return D=typeof I=="object"?I.value:I,mh(D)?null:D})(n.limit));let p=null;n.startAt&&(p=(function(I){const D=!!I.before,G=I.values||[];return new Jc(G,D)})(n.startAt));let _=null;return n.endAt&&(_=(function(I){const D=!I.before,G=I.values||[];return new Jc(G,D)})(n.endAt)),dI(t,l,d,c,g,"F",p,_)}function XI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function i0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=La(n.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=La(n.unaryFilter.field);return ye.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=La(n.unaryFilter.field);return ye.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=La(n.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return ye.create(La(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Hn.create(n.compositeFilter.filters.map((s=>i0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(n.compositeFilter.op))})(r):mt(30097,{filter:r})}function $I(r){return LI[r]}function ZI(r){return xI[r]}function WI(r){return zI[r]}function Ua(r){return{fieldPath:r.canonicalString()}}function La(r){return qe.fromServerFormat(r.fieldPath)}function r0(r){return r instanceof ye?(function(n){if(n.op==="=="){if(Mv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(Vv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(Vv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:ZI(n.op),value:n.value}}})(r):r instanceof Hn?(function(n){const s=n.getFilters().map((l=>r0(l)));return s.length===1?s[0]:{compositeFilter:{op:WI(n.op),filters:s}}})(r):mt(54877,{filter:r})}function JI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function s0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n,s,l,c=_t.min(),d=_t.min(),g=He.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.yt=t}}function eC(r){const t=YI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.Cn=new iC}addToCollectionParentIndex(t,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(t,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Y.resolve()}deleteFieldIndex(t,n){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,n){return Y.resolve()}getDocumentsMatchingTarget(t,n){return Y.resolve(null)}getIndexType(t,n){return Y.resolve(0)}getFieldIndexes(t,n){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,n){return Y.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,n){return Y.resolve(Ur.min())}updateCollectionGroup(t,n,s){return Y.resolve()}updateIndexEntries(t,n){return Y.resolve()}}class iC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new we(Wt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a0=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(a0,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="LruGarbageCollector",rC=1048576;function Xv([r,t],[n,s]){const l=Dt(r,n);return l===0?Dt(t,s):l}class sC{constructor(t){this.Ir=t,this.buffer=new we(Xv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Xv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Yv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?rt(Yv,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.Vr(3e5)}))}}class oC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return Y.resolve(dh.ce);const s=new sC(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Kv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,c,d,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l)))).next((I=>(s=I,g=Date.now(),this.removeTargets(t,s,n)))).next((I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((I=>(_=Date.now(),Pa()<=Ct.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I}))))}}function lC(r,t){return new oC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.changes=new xs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Cl(s.mutation,l,pn.empty(),Jt.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ot()){const l=Os();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((c=>{let d=Tl();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Os();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ot())))}populateOverlays(t,n,s){const l=[];return s.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(t,n,s,l){let c=Qi();const d=Il(),g=(function(){return Il()})();return n.forEach(((p,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Gr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Cl(A.mutation,_,A.mutation.getFieldMask(),Jt.now())):d.set(_.key,pn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((_,A)=>d.set(_,A))),n.forEach(((_,A)=>g.set(_,new cC(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,n){const s=Il();let l=new ie(((d,g)=>d-g)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=n.get(p);if(_===null)return;let A=s.get(p)||pn.empty();A=g.applyToLocalView(_,A),s.set(p,A);const I=(l.get(g.batchId)||Ot()).add(p);l=l.insert(g.batchId,I)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,I=HT();A.forEach((D=>{if(!c.has(D)){const G=YT(n.get(D),s.get(D));G!==null&&I.set(D,G),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Y.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(d){return lt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):LT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Y.resolve(Os());let g=Vl,p=c;return d.next((_=>Y.forEach(_,((A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((D=>{p=p.insert(A,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,p,_,Ot()))).next((A=>({batchId:g,changes:qT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new lt(n)).next((s=>{let l=Tl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((g=>Y.forEach(g,(p=>{const _=(function(I,D){return new ro(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((A=>{A.forEach(((I,D)=>{d=d.insert(I,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l)))).next((d=>{c.forEach(((p,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))}));let g=Tl();return d.forEach(((p,_)=>{const A=c.get(p);A!==void 0&&Cl(A.mutation,_,pn.empty(),Jt.now()),yh(n,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ui(l.createTime)}})(n)),Y.resolve()}getNamedQuery(t,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:eC(l.bundledQuery),readTime:ui(l.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.overlays=new ie(lt.comparator),this.qr=new Map}getOverlay(t,n){return Y.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Os();return Y.forEach(n,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,c)=>{this.St(t,n,c)})),Y.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(t,n,s){const l=Os(),c=n.length+1,d=new lt(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ie(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Os(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Os(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return Y.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new NI(n,s));let c=this.qr.get(n);c===void 0&&(c=Ot(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.Qr=new we(Me.$r),this.Ur=new we(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Me(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Me(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new lt(new Wt([])),s=new Me(n,t),l=new Me(n,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new lt(new Wt([])),s=new Me(n,t),l=new Me(n,t+1);let c=Ot();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const n=new Me(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return lt.comparator(t.key,n.key)||Dt(t.Yr,n.Yr)}static Kr(t,n){return Dt(t.Yr,n.Yr)||lt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new we(Me.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new OI(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?km:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Me(n,0),l=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new we(Dt);return n.forEach((l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;lt.isDocumentKey(c)||(c=c.child(""));const d=new Me(new lt(c),0);let g=new we(Dt);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),d),Y.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Bt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(n.mutations,(l=>{const c=new Me(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Me(n,0),l=this.Zr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t){this.ri=t,this.docs=(function(){return new ie(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let s=Qi();return n.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ye.newInvalidDocument(l))})),Y.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Qi();const d=n.path,g=new lt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Fw(Gw(A),s)<=0||(l.has(A.key)||yh(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,n,s,l){mt(9500)}ii(t,n){return Y.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new yC(this)}getSize(t){return Y.resolve(this.size)}}class yC extends uC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Y.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t){this.persistence=t,this.si=new xs((n=>xm(n)),zm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Gm,this.targetCount=0,this.ai=$a.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Y.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new $a(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(t,n){return this.Pr(n),Y.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return Y.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),Y.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return Y.resolve(s)}containsKey(t,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new mC,this.referenceDelegate=t(this),this.Pi=new _C(this),this.indexManager=new nC,this.remoteDocumentCache=(function(l){return new pC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new tC(n),this.Ii=new fC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new dC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new gC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const l=new vC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,n){return Y.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class vC extends Kw{constructor(t){super(),this.currentSequenceNumber=t}}class Fm{constructor(t){this.persistence=t,this.Ri=new Gm,this.Vi=null}static mi(t){return new Fm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Y.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(s=>{const l=lt.fromPath(s);return this.gi(t,l).next((c=>{c||n.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class ih{constructor(t,n){this.persistence=t,this.pi=new xs((s=>$w(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=lC(this,n)}static mi(t,n){return new ih(t,n)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return Y.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?Y.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((g=>{g||(s++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Y.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Y.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Uc(t.data.value)),n}br(t,n,s){return Y.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=Ot(),l=Ot();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Qm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZS()?8:Yw(Xe())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ys(t,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,n,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new EC;return this.Ss(t,n,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,n,d,g.size)}))})).next((()=>c.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Pa()<=Ct.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Pa()<=Ct.DEBUG&&rt("QueryEngine","Query:",ka(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Pa()<=Ct.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(n))):Y.resolve())}ys(t,n){if(Lv(n))return Y.resolve(null);let s=li(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=lm(n,null,"F"),s=li(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((p=>{const _=this.Ds(n,g);return this.Cs(n,_,d,p.readTime)?this.ys(t,lm(n,null,"F")):this.vs(t,_,n,p)}))))})))))}ws(t,n,s,l){return Lv(n)||l.isEqual(_t.min())?Y.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,l)?Y.resolve(null):(Pa()<=Ct.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ka(n)),this.vs(t,d,n,jw(l,Vl)).next((g=>g)))}))}Ds(t,n){let s=new we(zT(t));return n.forEach(((l,c)=>{yh(t,c)&&(s=s.add(c))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Pa()<=Ct.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ka(n)),this.ps.getDocumentsMatchingQuery(t,n,Ur.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="LocalStore",AC=3e8;class SC{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new ie(Dt),this.xs=new xs((c=>xm(c)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function RC(r,t,n,s){return new SC(r,t,n,s)}async function l0(r,t){const n=vt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let p=Ot();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function bC(r,t){const n=vt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,A){const I=_.batch,D=I.keys();let G=Y.resolve();return D.forEach(($=>{G=G.next((()=>A.getEntry(p,$))).next((it=>{const Z=_.docVersions.get($);Bt(Z!==null,48541),it.version.compareTo(Z)<0&&(I.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(p,I)))})(n,s,t,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function u0(r){const t=vt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function wC(r,t){const n=vt(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach(((A,I)=>{const D=l.get(I);if(!D)return;g.push(n.Pi.removeMatchingKeys(c,A.removedDocuments,I).next((()=>n.Pi.addMatchingKeys(c,A.addedDocuments,I))));let G=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?G=G.withResumeToken(He.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,s)),l=l.insert(I,G),(function(it,Z,Et){return it.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=AC?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0})(D,G,A)&&g.push(n.Pi.updateTargetData(c,G))}));let p=Qi(),_=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(IC(c,d,t.documentUpdates).next((A=>{p=A.ks,_=A.qs}))),!s.isEqual(_t.min())){const A=n.Pi.getLastRemoteSnapshotVersion(c).next((I=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(A)}return Y.waitFor(g).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(n.Ms=l,c)))}function IC(r,t,n){let s=Ot(),l=Ot();return n.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=Qi();return n.forEach(((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(_t.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):rt(Km,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function CC(r,t){const n=vt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=km),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function DC(r,t){const n=vt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((c=>c?(l=c,Y.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new Ir(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function dm(r,t,n){const s=vt(r),l=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!io(d))throw d;rt(Km,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function $v(r,t,n){const s=vt(r);let l=_t.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,A){const I=vt(p),D=I.xs.get(A);return D!==void 0?Y.resolve(I.Ms.get(D)):I.Pi.getTargetData(_,A)})(s,d,li(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:_t.min(),n?c:Ot()))).next((g=>(OC(s,gI(t),g),{documents:g,Qs:c})))))}function OC(r,t,n){let s=r.Os.get(t)||_t.min();n.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class Zv{constructor(){this.activeTargetIds=TI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NC{constructor(){this.Mo=new Zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Zv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="ConnectivityMonitor";class Jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Wv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Wv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function mm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="RestConnection",MC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,c){const d=mm(),g=this.zo(t,n.toUriEncodedString());rt(jd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:_}=new URL(g),A=Wa(_);return this.Jo(t,g,p,s,A).then((I=>(rt(jd,`Received RPC '${t}' ${d}: `,I),I)),(I=>{throw Qa(jd,`RPC '${t}' ${d} failed with error: `,I,"url: ",g,"request:",s),I}))}Ho(t,n,s,l,c,d){return this.Go(t,n,s,l,c)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,n){const s=MC[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class UC extends PC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=mm();return new Promise(((g,p)=>{const _=new hT;_.setWithCredentials(!0),_.listenOnce(fT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case kc.NO_ERROR:const I=_.getResponseJson();rt(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),g(I);break;case kc.TIMEOUT:rt(Qe,`RPC '${t}' ${d} timed out`),p(new nt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const D=_.getStatus();if(rt(Qe,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const it=(function(Et){const pt=Et.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(pt)>=0?pt:Q.UNKNOWN})($.status);p(new nt(it,$.message))}else p(new nt(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new nt(Q.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Qe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Qe,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",A,s,15)}))}T_(t,n,s){const l=mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=gT(),g=mT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");rt(Qe,`Creating RPC '${t}' stream ${l}: ${A}`,p);const I=d.createWebChannel(A,p);this.I_(I);let D=!1,G=!1;const $=new kC({Yo:Z=>{G?rt(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(D||(rt(Qe,`Opening RPC '${t}' stream ${l} transport.`),I.open(),D=!0),rt(Qe,`RPC '${t}' stream ${l} sending:`,Z),I.send(Z))},Zo:()=>I.close()}),it=(Z,Et,pt)=>{Z.listen(Et,(ct=>{try{pt(ct)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return it(I,El.EventType.OPEN,(()=>{G||(rt(Qe,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),it(I,El.EventType.CLOSE,(()=>{G||(G=!0,rt(Qe,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(I))})),it(I,El.EventType.ERROR,(Z=>{G||(G=!0,Qa(Qe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new nt(Q.UNAVAILABLE,"The operation could not be completed")))})),it(I,El.EventType.MESSAGE,(Z=>{if(!G){const Et=Z.data[0];Bt(!!Et,16349);const pt=Et,ct=pt?.error||pt[0]?.error;if(ct){rt(Qe,`RPC '${t}' stream ${l} received error:`,ct);const qt=ct.status;let Tt=(function(S){const w=pe[S];if(w!==void 0)return $T(w)})(qt),xt=ct.message;Tt===void 0&&(Tt=Q.INTERNAL,xt="Unknown error status: "+qt+" with message "+ct.message),G=!0,$.a_(new nt(Tt,xt)),I.close()}else rt(Qe,`RPC '${t}' stream ${l} received:`,Et),$.u_(Et)}})),it(g,dT.STAT_EVENT,(Z=>{Z.stat===em.PROXY?rt(Qe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===em.NOPROXY&&rt(Qe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(r){return new BI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="PersistentStream";class h0{constructor(t,n,s,l,c,d,g,p){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new c0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new nt(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(tE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(rt(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LC extends h0{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=jI(this.serializer,t),s=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ui(d.readTime):_t.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=fm(this.serializer),n.addTarget=(function(c,d){let g;const p=d.target;if(g=am(p)?{documents:QI(c,p)}:{query:KI(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=JT(c,d.resumeToken);const _=um(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=um(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const s=XI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=fm(this.serializer),n.removeTarget=t,this.q_(n)}}class xC extends h0{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=FI(t.writeResults,t.commitTime),s=ui(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=fm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>GI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{}class BC extends zC{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new nt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,cm(n,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(Q.UNKNOWN,c.toString())}))}Ho(t,n,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,cm(n,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(n),this.aa=!1):rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class HC{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{zs(this)&&(rt(ks,"Restarting streams for network reachability change."),await(async function(p){const _=vt(p);_.Ea.add(4),await Kl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new qC(s,l)}}async function Sh(r){if(zs(r))for(const t of r.da)await t(!0)}async function Kl(r){for(const t of r.da)await t(!1)}function f0(r,t){const n=vt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Zm(n)?$m(n):so(n).O_()&&Xm(n,t))}function Ym(r,t){const n=vt(r),s=so(n);n.Ia.delete(t),s.O_()&&d0(n,t),n.Ia.size===0&&(s.O_()?s.L_():zs(n)&&n.Ra.set("Unknown"))}function Xm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}so(r).Y_(t)}function d0(r,t){r.Va.Ue(t),so(r).Z_(t)}function $m(r){r.Va=new UI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),so(r).start(),r.Ra.ua()}function Zm(r){return zs(r)&&!so(r).x_()&&r.Ia.size>0}function zs(r){return vt(r).Ea.size===0}function m0(r){r.Va=void 0}async function jC(r){r.Ra.set("Online")}async function GC(r){r.Ia.forEach(((t,n)=>{Xm(r,t)}))}async function FC(r,t){m0(r),Zm(r)?(r.Ra.ha(t),$m(r)):r.Ra.set("Unknown")}async function QC(r,t,n){if(r.Ra.set("Online"),t instanceof WT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){rt(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await rh(r,s)}else if(t instanceof zc?r.Va.Ze(t):t instanceof ZT?r.Va.st(t):r.Va.tt(t),!n.isEqual(_t.min()))try{const s=await u0(r.localStore);n.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const A=c.Ia.get(p);if(!A)return;c.Ia.set(p,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),d0(c,p);const I=new Ir(A.target,p,_,A.sequenceNumber);Xm(c,I)})),c.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){rt(ks,"Failed to raise snapshot:",s),await rh(r,s)}}async function rh(r,t,n){if(!io(t))throw t;r.Ea.add(1),await Kl(r),r.Ra.set("Offline"),n||(n=()=>u0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(ks,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Sh(r)}))}function g0(r,t){return t().catch((n=>rh(r,n,t)))}async function Rh(r){const t=vt(r),n=Br(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:km;for(;KC(t);)try{const l=await CC(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,YC(t,l)}catch(l){await rh(t,l)}p0(t)&&y0(t)}function KC(r){return zs(r)&&r.Ta.length<10}function YC(r,t){r.Ta.push(t);const n=Br(r);n.O_()&&n.X_&&n.ea(t.mutations)}function p0(r){return zs(r)&&!Br(r).x_()&&r.Ta.length>0}function y0(r){Br(r).start()}async function XC(r){Br(r).ra()}async function $C(r){const t=Br(r);for(const n of r.Ta)t.ea(n.mutations)}async function ZC(r,t,n){const s=r.Ta.shift(),l=qm.from(s,t,n);await g0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Rh(r)}async function WC(r,t){t&&Br(r).X_&&await(async function(s,l){if((function(d){return MI(d)&&d!==Q.ABORTED})(l.code)){const c=s.Ta.shift();Br(s).B_(),await g0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(s)}})(r,t),p0(r)&&y0(r)}async function eE(r,t){const n=vt(r);n.asyncQueue.verifyOperationInProgress(),rt(ks,"RemoteStore received new credentials");const s=zs(n);n.Ea.add(3),await Kl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Sh(n)}async function JC(r,t){const n=vt(r);t?(n.Ea.delete(2),await Sh(n)):t||(n.Ea.add(2),await Kl(n),n.Ra.set("Unknown"))}function so(r){return r.ma||(r.ma=(function(n,s,l){const c=vt(n);return c.sa(),new LC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:jC.bind(null,r),t_:GC.bind(null,r),r_:FC.bind(null,r),H_:QC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Zm(r)?$m(r):r.Ra.set("Unknown")):(await r.ma.stop(),m0(r))}))),r.ma}function Br(r){return r.fa||(r.fa=(function(n,s,l){const c=vt(n);return c.sa(),new xC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:XC.bind(null,r),r_:WC.bind(null,r),ta:$C.bind(null,r),na:ZC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new Wm(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,t){if(Fi("AsyncQueue",`${t}: ${r}`),io(r))return new nt(Q.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||lt.comparator(n.key,s.key):(n,s)=>lt.comparator(n.key,s.key),this.keyedMap=Tl(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.ga=new ie(lt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Za{constructor(t,n,s,l,c,d,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new Za(t,n,qa.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class e2{constructor(){this.queries=iE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=vt(n),c=l.queries;l.queries=iE(),c.forEach(((d,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new nt(Q.ABORTED,"Firestore shutting down"))}}function iE(){return new xs((r=>xT(r)),ph)}async function n2(r,t){const n=vt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new t2,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Jm(d,`Initialization of query '${ka(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&tg(n)}async function i2(r,t){const n=vt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function r2(r,t){const n=vt(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&tg(n)}function s2(r,t,n){const s=vt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function tg(r){r.Ca.forEach((t=>{t.next()}))}var gm,rE;(rE=gm||(gm={})).Ma="default",rE.Cache="cache";class a2{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Za(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t){this.key=t}}class v0{constructor(t){this.key=t}}class o2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=zT(t),this.tu=new qa(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new nE,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,I)=>{const D=l.get(A),G=yh(this.query,I)?I:null,$=!!D&&this.mutatedKeys.has(D.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;D&&G?D.data.isEqual(G.data)?$!==it&&(s.track({type:3,doc:G}),Z=!0):this.su(D,G)||(s.track({type:2,doc:G}),Z=!0,(p&&this.eu(G,p)>0||_&&this.eu(G,_)<0)&&(g=!0)):!D&&G?(s.track({type:0,doc:G}),Z=!0):D&&!G&&(s.track({type:1,doc:D}),Z=!0,(p||_)&&(g=!0)),Z&&(G?(d=d.add(G),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,I)=>(function(G,$){const it=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return it(G)-it($)})(A.type,I.type)||this.eu(A.doc,I.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new Za(this.query,t.tu,c,d,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new v0(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new _0(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ot();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eg="SyncEngine";class l2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class u2{constructor(t){this.key=t,this.hu=!1}}class c2{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new xs((g=>xT(g)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new ie(lt.comparator),this.Au=new Map,this.Ru=new Gm,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h2(r,t,n=!0){const s=b0(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await E0(s,t,n,!0),l}async function f2(r,t){const n=b0(r);await E0(n,t,!0,!1)}async function E0(r,t,n,s){const l=await DC(r.localStore,li(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await d2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&f0(r.remoteStore,l),g}async function d2(r,t,n,s,l){r.pu=(I,D,G)=>(async function(it,Z,Et,pt){let ct=Z.view.ru(Et);ct.Cs&&(ct=await $v(it.localStore,Z.query,!1).then((({documents:M})=>Z.view.ru(M,ct))));const qt=pt&&pt.targetChanges.get(Z.targetId),Tt=pt&&pt.targetMismatches.get(Z.targetId)!=null,xt=Z.view.applyChanges(ct,it.isPrimaryClient,qt,Tt);return aE(it,Z.targetId,xt.au),xt.snapshot})(r,I,D,G);const c=await $v(r.localStore,t,!0),d=new o2(t,c.Qs),g=d.ru(c.documents),p=Ql.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);aE(r,n,_.au);const A=new l2(t,n,d);return r.Tu.set(t,A),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),_.snapshot}async function m2(r,t,n){const s=vt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await dm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Ym(s.remoteStore,l.targetId),pm(s,l.targetId)})).catch(no)):(pm(s,l.targetId),await dm(s.localStore,l.targetId,!0))}async function g2(r,t){const n=vt(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ym(n.remoteStore,s.targetId))}async function p2(r,t,n){const s=S2(r);try{const l=await(function(d,g){const p=vt(d),_=Jt.now(),A=g.reduce(((G,$)=>G.add($.key)),Ot());let I,D;return p.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=Qi(),it=Ot();return p.Ns.getEntries(G,A).next((Z=>{$=Z,$.forEach(((Et,pt)=>{pt.isValidDocument()||(it=it.add(Et))}))})).next((()=>p.localDocuments.getOverlayedDocuments(G,$))).next((Z=>{I=Z;const Et=[];for(const pt of g){const ct=CI(pt,I.get(pt.key).overlayedDocument);ct!=null&&Et.push(new Gr(pt.key,ct,DT(ct.value.mapValue),tn.exists(!0)))}return p.mutationQueue.addMutationBatch(G,_,Et,g)})).next((Z=>{D=Z;const Et=Z.applyToLocalDocumentSet(I,it);return p.documentOverlayCache.saveOverlays(G,Z.batchId,Et)}))})).then((()=>({batchId:D.batchId,changes:qT(I)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new ie(Dt)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,n),await Yl(s,l.changes),await Rh(s.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");n.reject(c)}}async function T0(r,t){const n=vt(r);try{const s=await wC(n.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Bt(d.hu,14607):l.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await Yl(n,s,t)}catch(s){await no(s)}}function sE(r,t,n){const s=vt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=vt(d);p.onlineState=g;let _=!1;p.queries.forEach(((A,I)=>{for(const D of I.Sa)D.va(g)&&(_=!0)})),_&&tg(p)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function y2(r,t,n){const s=vt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ie(lt.comparator);d=d.insert(c,Ye.newNoDocument(c,_t.min()));const g=Ot().add(c),p=new Th(_t.min(),new Map,new ie(Dt),d,g);await T0(s,p),s.du=s.du.remove(c),s.Au.delete(t),ng(s)}else await dm(s.localStore,t,!1).then((()=>pm(s,t,n))).catch(no)}async function _2(r,t){const n=vt(r),s=t.batch.batchId;try{const l=await bC(n.localStore,t);S0(n,s,null),A0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yl(n,l)}catch(l){await no(l)}}async function v2(r,t,n){const s=vt(r);try{const l=await(function(d,g){const p=vt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next((I=>(Bt(I!==null,37113),A=I.keys(),p.mutationQueue.removeMutationBatch(_,I)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>p.localDocuments.getDocuments(_,A)))}))})(s.localStore,t);S0(s,t,n),A0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Yl(s,l)}catch(l){await no(l)}}function A0(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function S0(r,t,n){const s=vt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function pm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||R0(r,s)}))}function R0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Ym(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),ng(r))}function aE(r,t,n){for(const s of n)s instanceof _0?(r.Ru.addReference(s.key,t),E2(r,s)):s instanceof v0?(rt(eg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||R0(r,s.key)):mt(19791,{wu:s})}function E2(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(rt(eg,"New document in limbo: "+n),r.Eu.add(s),ng(r))}function ng(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new lt(Wt.fromString(t)),s=r.fu.next();r.Au.set(s,new u2(n)),r.du=r.du.insert(n,s),f0(r.remoteStore,new Ir(li(UT(n.path)),s,"TargetPurposeLimboResolution",dh.ce))}}async function Yl(r,t,n){const s=vt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{d.push(s.pu(p,t,n).then((_=>{if((_||n)&&s.isPrimaryClient){const A=_?!_.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Qm.As(p.targetId,_);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(p,_){const A=vt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>Y.forEach(_,(D=>Y.forEach(D.Es,(G=>A.persistence.referenceDelegate.addReference(I,D.targetId,G))).next((()=>Y.forEach(D.ds,(G=>A.persistence.referenceDelegate.removeReference(I,D.targetId,G)))))))))}catch(I){if(!io(I))throw I;rt(Km,"Failed to update sequence numbers: "+I)}for(const I of _){const D=I.targetId;if(!I.fromCache){const G=A.Ms.get(D),$=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(D,it)}}})(s.localStore,c))}async function T2(r,t){const n=vt(r);if(!n.currentUser.isEqual(t)){rt(eg,"User change. New user:",t.toKey());const s=await l0(n.localStore,t);n.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new nt(Q.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Yl(n,s.Ls)}}function A2(r,t){const n=vt(r),s=n.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=n.Iu.get(t);if(!c)return l;for(const d of c){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function b0(r){const t=vt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=A2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y2.bind(null,t),t.Pu.H_=r2.bind(null,t.eventManager),t.Pu.yu=s2.bind(null,t.eventManager),t}function S2(r){const t=vt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=v2.bind(null,t),t}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return RC(this.persistence,new TC,t.initialUser,this.serializer)}Cu(t){return new o0(Fm.mi,this.serializer)}Du(t){return new NC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class R2 extends sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Bt(this.persistence.referenceDelegate instanceof ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new o0((s=>ih.mi(s,n)),this.serializer)}}class ym{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T2.bind(null,this.syncEngine),await JC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new e2})()}createDatastore(t){const n=Ah(t.databaseInfo.databaseId),s=(function(c){return new UC(c)})(t.databaseInfo);return(function(c,d,g,p){return new BC(c,d,g,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,c,d,g){return new HC(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>sE(this.syncEngine,n,0)),(function(){return Jv.v()?new Jv:new VC})())}createSyncEngine(t,n){return(function(l,c,d,g,p,_,A){const I=new c2(l,c,d,g,p,_);return A&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=vt(n);rt(ks,"RemoteStore shutting down."),s.Ea.add(5),await Kl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="FirestoreClient";class w2{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{rt(qr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(qr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Jm(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(qr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await l0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function oE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await I2(r);rt(qr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>eE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>eE(t.remoteStore,l))),r._onlineComponents=t}async function I2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(qr,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Qa("Error using user provided cache. Falling back to memory cache: "+n),await Fd(r,new sh)}}else rt(qr,"Using default OfflineComponentProvider"),await Fd(r,new R2(void 0));return r._offlineComponents}async function w0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(qr,"Using user provided OnlineComponentProvider"),await oE(r,r._uninitializedComponentsProvider._online)):(rt(qr,"Using default OnlineComponentProvider"),await oE(r,new ym))),r._onlineComponents}function C2(r){return w0(r).then((t=>t.syncEngine))}async function D2(r){const t=await w0(r),n=t.eventManager;return n.onListen=h2.bind(null,t.syncEngine),n.onUnlisten=m2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=f2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=g2.bind(null,t.syncEngine),n}function O2(r,t,n={}){const s=new Pr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,_){const A=new b2({next:D=>{A.Nu(),d.enqueueAndForget((()=>i2(c,I))),D.fromCache&&p.source==="server"?_.reject(new nt(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),I=new a2(g,A,{includeMetadataChanges:!0,qa:!0});return n2(c,I)})(await D2(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="firestore.googleapis.com",uE=!0;class cE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C0,this.ssl=uE}else this.host=t.host,this.ssl=t.ssl??uE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=a0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rC)throw new nt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Hw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Vw;switch(s.type){case"firstParty":return new Uw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=lE.get(n);s&&(rt("ComponentProvider","Removing Datastore"),lE.delete(n),s.terminate())})(this),Promise.resolve()}}function N2(r,t,n,s={}){r=fi(r,bh);const l=Wa(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${n}`;l&&(RE(`https://${g}`),bE("Firestore",!0)),c.host!==C0&&c.host!==g&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:s};if(!Ns(p,d)&&(r._setSettings(p),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Ke.MOCK_USER;else{_=HS(s.mockUserToken,r._app?.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new nt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(I)}r._authCredentials=new Mw(new yT(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Bs(this.firestore,t,this._query)}}class ve{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ve(this.firestore,t,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Gl(n,ve._jsonSchema))return new ve(t,s||null,new lt(Wt.fromString(n.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:_e("string",ve._jsonSchemaVersion),referencePath:_e("string")};class kr extends Bs{constructor(t,n,s){super(t,n,UT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ve(this.firestore,null,new lt(t))}withConverter(t){return new kr(this.firestore,t,this._path)}}function eD(r,t,...n){if(r=Ee(r),_T("collection","path",t),r instanceof bh){const s=Wt.fromString(t,...n);return Sv(s),new kr(r,null,s)}{if(!(r instanceof ve||r instanceof kr))throw new nt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return Sv(s),new kr(r.firestore,null,s)}}function V2(r,t,...n){if(r=Ee(r),arguments.length===1&&(t=Pm.newId()),_T("doc","path",t),r instanceof bh){const s=Wt.fromString(t,...n);return Av(s),new ve(r,null,new lt(s))}{if(!(r instanceof ve||r instanceof kr))throw new nt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return Av(s),new ve(r.firestore,r instanceof kr?r.converter:null,new lt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="AsyncQueue";class fE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c0(this,"async_queue_retry"),this._c=()=>{const s=Gd();s&&rt(hE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Gd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Gd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;rt(hE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",dE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Wm.createAndSchedule(this,t,n,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:dE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function dE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class qs extends bh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new fE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fE(t),this._firestoreClient=void 0,await t}}}function M2(r,t){const n=typeof r=="object"?r:DE(),s=typeof r=="string"?r:Zc,l=Am(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=BS("firestore");c&&N2(l,...c)}return l}function ig(r){if(r._terminated)throw new nt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||P2(r),r._firestoreClient}function P2(r){const t=r._freezeSettings(),n=(function(l,c,d,g){return new Jw(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,I0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new w2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nn(He.fromBase64String(t))}catch(n){throw new nt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Nn(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,Nn._jsonSchema))return Nn.fromBase64String(t.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:_e("string",Nn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new nt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new nt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new nt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,ci._jsonSchema))return new ci(t.latitude,t.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:_e("string",ci._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new hi(t.vectorValues);throw new nt(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:_e("string",hi._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=/^__.*__$/;class U2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(t,this.data,n,this.fieldTransforms)}}class D0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Gr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function O0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:r})}}class sg{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ah(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(O0(this.Ac)&&k2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class L2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ah(t)}Cc(t,n,s,l=!1){return new sg({Ac:t,methodName:n,Dc:s,path:qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $l(r){const t=r._freezeSettings(),n=Ah(r._databaseId);return new L2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function ag(r,t,n,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,n,l);og("Data must be an object, but it was:",d,s);const g=M0(s,d);let p,_;if(c.merge)p=new pn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const D=_m(t,I,n);if(!d.contains(D))throw new nt(Q.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);k0(A,D)||A.push(D)}p=new pn(A),_=d.fieldTransforms.filter((I=>p.covers(I.field)))}else p=null,_=d.fieldTransforms;return new U2(new an(g),p,_)}class wh extends rg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}function N0(r,t,n,s){const l=r.Cc(1,t,n);og("Data must be an object, but it was:",l,s);const c=[],d=an.empty();jr(s,((p,_)=>{const A=lg(t,p,n);_=Ee(_);const I=l.yc(A);if(_ instanceof wh)c.push(A);else{const D=Zl(_,I);D!=null&&(c.push(A),d.set(A,D))}}));const g=new pn(c);return new D0(d,g,l.fieldTransforms)}function V0(r,t,n,s,l,c){const d=r.Cc(1,t,n),g=[_m(t,s,n)],p=[l];if(c.length%2!=0)throw new nt(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(_m(t,c[D])),p.push(c[D+1]);const _=[],A=an.empty();for(let D=g.length-1;D>=0;--D)if(!k0(_,g[D])){const G=g[D];let $=p[D];$=Ee($);const it=d.yc(G);if($ instanceof wh)_.push(G);else{const Z=Zl($,it);Z!=null&&(_.push(G),A.set(G,Z))}}const I=new pn(_);return new D0(A,I,d.fieldTransforms)}function x2(r,t,n,s=!1){return Zl(n,r.Cc(s?4:3,t))}function Zl(r,t){if(P0(r=Ee(r)))return og("Unsupported field value:",t,r),M0(r,t);if(r instanceof rg)return(function(s,l){if(!O0(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let p=Zl(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=Ee(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return AI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Jt.fromDate(s);return{timestampValue:nh(l.serializer,c)}}if(s instanceof Jt){const c=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(s instanceof ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:JT(l.serializer,s._byteString)};if(s instanceof ve){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof hi)return(function(d,g){return{mapValue:{fields:{[IT]:{stringValue:CT},[Wc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${fh(s)}`)})(r,t)}function M0(r,t){const n={};return TT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jr(r,((s,l)=>{const c=Zl(l,t.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function P0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Jt||r instanceof ci||r instanceof Nn||r instanceof ve||r instanceof rg||r instanceof hi)}function og(r,t,n){if(!P0(n)||!vT(n)){const s=fh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function _m(r,t,n){if((t=Ee(t))instanceof Xl)return t._internalPath;if(typeof t=="string")return lg(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,n)}const z2=new RegExp("[~\\*/\\[\\]]");function lg(r,t,n){if(t.search(z2)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xl(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ah(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new nt(Q.INVALID_ARGUMENT,g+r+p)}function k0(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new B2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B2 extends U0{data(){return super.data()}}function ug(r,t){return typeof t=="string"?lg(r,t):t instanceof Xl?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new nt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class L0 extends cg{}function nD(r,t,...n){let s=[];t instanceof cg&&s.push(t),s=s.concat(n),(function(c){const d=c.filter((p=>p instanceof fg)).length,g=c.filter((p=>p instanceof hg)).length;if(d>1||d>0&&g>0)throw new nt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class hg extends L0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new hg(t,n,s)}_apply(t){const n=this._parse(t);return x0(t._query,n),new Bs(t.firestore,t.converter,om(t._query,n))}_parse(t){const n=$l(t.firestore);return(function(c,d,g,p,_,A,I){let D;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){gE(I,A);const $=[];for(const it of I)$.push(mE(p,c,it));D={arrayValue:{values:$}}}else D=mE(p,c,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||gE(I,A),D=x2(g,d,I,A==="in"||A==="not-in");return ye.create(_,A,D)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class fg extends cg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new fg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)x0(d,p),d=om(d,p)})(t._query,n),new Bs(t.firestore,t.converter,om(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dg extends L0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new dg(t,n)}_apply(t){const n=(function(l,c,d){if(l.startAt!==null)throw new nt(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new nt(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ul(c,d)})(t._query,this._field,this._direction);return new Bs(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new ro(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function iD(r,t="asc"){const n=t,s=ug("orderBy",r);return dg._create(s,n)}function mE(r,t,n){if(typeof(n=Ee(n))=="string"){if(n==="")throw new nt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(t)&&n.indexOf("/")!==-1)throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Wt.fromString(n));if(!lt.isDocumentKey(s))throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Nv(r,new lt(s))}if(n instanceof ve)return Nv(r,n._key);throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(n)}.`)}function gE(r,t){if(!Array.isArray(r)||r.length===0)throw new nt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function x0(r,t){const n=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new nt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class H2{convertValue(t,n="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return jr(t,((l,c)=>{s[l]=this.convertValue(c,n)})),s}convertVectorValue(t){const n=t.fields?.[Wc].arrayValue?.values?.map((s=>he(s.doubleValue)));return new hi(n)}convertGeoPoint(t){return new ci(he(t.latitude),he(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=gh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const n=Lr(t);return new Jt(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Wt.fromString(t);Bt(s0(s),9688,{name:t});const l=new Pl(s.get(1),s.get(3)),c=new lt(s.popFirst(5));return l.isEqual(n)||Fi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Dc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ha extends U0{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ug("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:_e("string",Ha._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Bc extends Ha{data(t={}){return super.data(t)}}class ja{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Dc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Bc(this._firestore,this._userDataWriter,s.key,s,new Dc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new nt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:j2(g.type),doc:p,oldIndex:_,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function j2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:_e("string",ja._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class G2 extends H2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,n)}}function rD(r){r=fi(r,Bs);const t=fi(r.firestore,qs),n=ig(t),s=new G2(t);return q2(r._query),O2(n,r._query).then((l=>new ja(t,s,r,l)))}function sD(r,t,n){r=fi(r,ve);const s=fi(r.firestore,qs),l=mg(r.converter,t,n);return Wl(s,[ag($l(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,tn.none())])}function aD(r,t,n,...s){r=fi(r,ve);const l=fi(r.firestore,qs),c=$l(l);let d;return d=typeof(t=Ee(t))=="string"||t instanceof Xl?V0(c,"updateDoc",r._key,t,n,s):N0(c,"updateDoc",r._key,t),Wl(l,[d.toMutation(r._key,tn.exists(!0))])}function oD(r){return Wl(fi(r.firestore,qs),[new Eh(r._key,tn.none())])}function lD(r,t){const n=fi(r.firestore,qs),s=V2(r),l=mg(r.converter,t);return Wl(n,[ag($l(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,tn.exists(!1))]).then((()=>s))}function Wl(r,t){return(function(s,l){const c=new Pr;return s.asyncQueue.enqueueAndForget((async()=>p2(await C2(s),l,c))),c.promise})(ig(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$l(t)}set(t,n,s){this._verifyNotCommitted();const l=Qd(t,this._firestore),c=mg(l.converter,n,s),d=ag(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,s);return this._mutations.push(d.toMutation(l._key,tn.none())),this}update(t,n,s,...l){this._verifyNotCommitted();const c=Qd(t,this._firestore);let d;return d=typeof(n=Ee(n))=="string"||n instanceof Xl?V0(this._dataReader,"WriteBatch.update",c._key,n,s,l):N0(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(d.toMutation(c._key,tn.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Qd(t,this._firestore);return this._mutations=this._mutations.concat(new Eh(n._key,tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nt(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qd(r,t){if((r=Ee(r)).firestore!==t)throw new nt(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(r){return ig(r=fi(r,qs)),new F2(r,(t=>Wl(r,t)))}(function(t,n=!0){(function(l){eo=l})(Ja),Ga(new Vs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new qs(new Pw(s.getProvider("auth-internal")),new Lw(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new nt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Nr(_v,vv,t),Nr(_v,vv,"esm2020")})();const Q2={apiKey:"AIzaSyBU1YHxIyaVqkRPm4hU8K29zZ15Y1Y21Vc",authDomain:"craigory-dev-bar-menu.firebaseapp.com",projectId:"craigory-dev-bar-menu",storageBucket:"craigory-dev-bar-menu.firebasestorage.app",messagingSenderId:"639006753140",appId:"1:639006753140:web:428e8dad285c228f53ec21"},z0=CE(Q2),Oc=Cw(z0),cD=M2(z0),B0=Cr.createContext(void 0);function hD(){const r=Cr.useContext(B0);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function K2({children:r}){const[t,n]=Cr.useState(null),[s,l]=Cr.useState(!0),c=async(_,A)=>{await db(Oc,_,A)},d=async()=>{const _=new Bi;await Lb(Oc,_)},g=async()=>{await yb(Oc)};Cr.useEffect(()=>pb(Oc,A=>{n(A),l(!1)}),[]);const p={currentUser:t,login:c,loginWithGoogle:d,logout:g,loading:s};return yE.jsx(B0.Provider,{value:p,children:!s&&r})}function Y2({children:r}){return yE.jsx(K2,{children:r})}const fD=Object.freeze(Object.defineProperty({__proto__:null,default:Y2},Symbol.toStringTag,{value:"Module"})),dD={component:X2};function X2(){return zn.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"100%",background:"linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%)",borderRadius:"5px",backgroundSize:"200% 100%",animation:"1.3s vike-react-shine linear infinite",aspectRatio:"2.5/1"}})}export{zn as R,Jt as T,cD as a,oD as b,eD as c,V2 as d,aD as e,lD as f,rD as g,fD as h,dD as i,yE as j,J2 as k,iD as o,nD as q,Cr as r,sD as s,hD as u,uD as w};
